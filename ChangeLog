2012-04-23  Simon Busch  <morphis@gravedo.de>

	Bump version to 0.10.1

	Add systemd service file from meta-fso

	Update relevant components for a 0.10.0 release

2012-03-21  Denis 'GNUtoo' Carikli  <GNUtoo@no-log.org>

	om-gta04 oeventsd rules.yaml: Handle GPS resource

2012-03-07  Denis 'GNUtoo' Carikli  <GNUtoo@no-log.org>

	oeventsd: add fso Resource State trigger

2012-02-09  Jose Luis Perez Diez  <jluis@escomposlinux.org>

	Switch to python-dbus-1.0.0 api v2
	Clean debugin helpers

2012-01-04  Felix Huber  <felix.huber@schyf.de>

	ogsmd: bug fixes, start work for conference, toggle and 3rd incoming call

	fix #2305: GSM connection hangs up when during a call a second is not answered

	ophoned: improve BT connect responsiveness

2012-01-01  Simon Busch  <morphis@gravedo.de>

	Update oevents configuration of crespo (Nexus S) machine

	Drop oevents configuration for not existing herring machine

2011-12-21  Klaus Kurzmann  <mok@fluxnetz.de>

	disable TEST resource for *all* devices

2011-12-21  Simon Busch  <morphis@gravedo.de>

	Add rules.yaml for herring device known as Nexus S

2011-12-18  Klaus Kurzmann  <mok@fluxnetz.de>

	add rules.yaml for om-gta04

2011-10-20  Klaus Kurzmann  <mok@fluxnetz.de>

	add config for om-gta04

2011-10-16  Denis 'GNUtoo' Carikli  <GNUtoo@no-log.org>

	Add rules.yaml for the crespo machine
	Note that since we have no telephony yet only screen brightness is handles.

	The power button release that made suspend the phone was not copied
	  from the default rules.yaml because it suspended the phone
	  when you released the power button:
	After suspending the phone(for instance with apm -s) the phone
	  goes in early suspend, and then for resuming it you press the power
	  button(fsousaged listens for the power button press)
	  but then when you release the button it goes back into suspend
	  because of that rule in rules.yaml.

	Add a frameworkd.conf for the crespo machine

2011-10-12  Denis 'GNUtoo' Carikli  <GNUtoo@no-log.org>

	ogpsd: add support for 2.6.39 kernel paths

2011-09-06  Felix Huber  <felix.huber@schyf.de>

	ophoned: disable gsm functions until used by app

	otimed: fix for non-existing /etc/localtime

	testing: improve start time

2011-09-05  Sylvain 'GarthPS' Paré  <sylvain.pare@gmail.com>

	rules.yaml: added a rule for the powerbutton on palm devices

2011-08-22  Sebastian Krzyszkowiak  <dos@dosowisko.net>

	conf: update oeventsd's rules.yaml for Nokia N900 to support LEDs again

2011-06-21  Simon Busch  <morphis@gravedo.de>

	Revert "Add configuration file for the palmpre2 (it's same as the palmpre)"
	This reverts commit 962479a215bda648c9ddbf7aa652ee16851eda5a. We will fix this in OE and
	not here!

	Add configuration file for the palmpre2 (it's same as the palmpre)

2011-06-07  Denis 'GNUtoo' Carikli  <GNUtoo@no-log.org>

	Add rules.yaml for the nexusone machine
	Theses rules were copied from the htcleo machine and left intact.

	Add a frameworkd.conf for the nexusone machine

2011-05-30  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	[ogsmd] Update networks.tab with up-to-date data for Poland Don't know if this file is still used somewhere, but just in case... ;)

2011-04-06  Klaus Kurzmann  <mok@fluxnetz.de>

	add a rules.yaml for htcleo

	add a frameworkd.conf for htcleo

2011-04-05  Simon Busch  <morphis@gravedo.de>

	oevents: update configuration for palmpre machine

2011-02-25  Simon Busch  <morphis@gravedo.de>

	Change script called when backlight changes in rules.yaml for palmpre machine

	Add rules.yaml config file for palmpre machine

	oeventsd: add fso BacklightPower trigger

2011-02-22  Marco Trevisan (Treviño)  <mail@3v1n0.net>

	Revert back Daniele's fixes for limit
	This fixes my bad removal in commit 5cc3ef0, that removed the fix made by Daniele Ricci in  5e5970b48

2011-02-20  Simon Busch  <morphis@gravedo.de>

	Add configuration for palmpre machine

2011-02-06  Marco Trevisan (Treviño)  <mail@3v1n0.net>

	opimd: add more query operator support
	Now you can also query with more operators using:
	 field >= val   with   {">=field", "val"}
	 field <= val   with   {"<=field", "val"}
	 field != val   with   {"!field", "val"}

2011-02-01  Felix Huber  <felix.huber@schyf.de>

	ogsmd: check len of name and number for phonebook

2011-01-23  Felix Huber  <felix.huber@schyf.de>

	oevents: add aux key rule

2011-01-22  Felix Huber  <felix.huber@schyf.de>

	ogsmd: final fix for #435 in ti calypso sleep mode

	ogsmd: fix power down of ti calypso

2011-01-18  Martin Jansa  <Martin.Jansa@gmail.com>

	opreferences: merge schema/phone.yaml config with frameworkd-config-shr
	* hopefully fixes KeyError: 'message-volume' issue

2011-01-17  Martin Jansa  <Martin.Jansa@gmail.com>

	add init.d script from OpenEmbedded and install it by default

	setup.py: install new yaml configs and don't install ogsmd config file by default
	* machine specific rules.yaml and frameworkd.conf are not installed by setup.py (ie OE recipe can choose which one to install)
	* ogsmd files can also be installed by recipe if needed (ogsmd is used on target device)

	opreferences: merge config with frameworkd-config-shr

	frameworkd.conf: add eten-m800 config from OE repo

	add machine specific rules.yaml files from frameworkd-config-shr

	add machine specific frameworkd.conf files from frameworkd-config-shr

	move default frameworkd.conf from conf/example to etc directory

2010-12-30  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	config: align milliseconds in logger output; patch by ott814, thanks.

2010-11-11  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	Revert "oeventsd: workaround buggy kernel to get full vibration power."
	This reverts commit 72ad63c5ce9f2d25a119612065d86bd317bf80ed.

	Merge branch 'master' of git.freesmartphone.org:framework

2010-11-11  Marco Trevisan (Treviño)  <mail@3v1n0.net>

	opimd: Added '_limit_start' query option.
	This query allows to set the SQL LIMIT x,y function in the proper
	way, now you can limit the results both setting the "end limit"
	(like before, using "_limit") and the start value to show (using
	the new "_start_limit" parameter).
	Useful for paginating results, reducing GUI lookups.

2010-11-04  Denis 'GNUtoo' Carikli  <GNUtoo@no-log.org>

	ogpsd: msm.py: activate/desactivate gps by launching/killing the "gps" program
	I used subprocess for launching and killing the gps program.

	Here are the limitations:
	* playing too fast with gps's on/off in shr-settings can crash
	  (and so reboot) the phone
	* The gps program must not be launched manually(not within frameworkd)

	Note that if we use shell=True for launching the gps program,
	the .kill() kills the shell instead of the gps program.
	Thanks a lot Yhg1s in #python on Freenode for help on debugging that

2010-11-04  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	Merge branch 'master' of git.freesmartphone.org:framework

2010-10-31  Daniele Ricci  <daniele.athome@gmail.com>

	opimd: install database upgrade script

2010-10-30  Daniele Ricci  <daniele.athome@gmail.com>

	Merge branch 'master' of git.freesmartphone.org:framework

	opimd: fixed passing columns descriptions to get_full_result

2010-10-27  Daniele Ricci  <daniele.athome@gmail.com>

	opimd: insert database metadata if creating new database in order to prevent automatic database upgrade

2010-10-26  Daniele Ricci  <daniele.athome@gmail.com>

	opimd: delete MessageSent=1 as well in upgrade script

2010-10-19  Daniele Ricci  <daniele.athome@gmail.com>

	PIM: database upgrader for version 2.0 to 2.1

	Db upgrader skeleton

	opimd: some small fixes

	PIM.Messages.QueryThreads: JOIN is enough

2010-10-15  Daniele Ricci  <daniele.athome@gmail.com>

	PIM.Messages: final fixes for messages New switch

	Message(Un)read and MessageSent both converted to New

	PIM.Messages: added TotalCount attribute in QueryThreads

	PIM.Messages: MessageRead changed to MessageUnread PIM.Messages: query for retrieving threads

2010-09-13  Felix Huber  <felix.huber@schyf.de>

	ogpsd,ogsmd: fix missing global decl for sysfs path variables

2010-09-12  Felix Huber  <felix.huber@schyf.de>

	ophoned: optimise bluetooth headset funtions

	ogpsd: automatic adjust sysfs node to kernel version

	ogsmd ti_calypso: automatic adjust sysfs node to kernel version

2010-09-11  Denis 'GNUtoo' Carikli  <GNUtoo@no-log.org>

	ogpsd: add initial support for htcdream's gps
	Htcdream's gps support is higly incomplete:
	*First NMEADevice has some parsing problem:
	2010.09.11 12:13:35.500 ogpsd                ERROR    Line: ['GPVTG,nan,T,,M,0.0,N,0.0,K,A', '4']
	*the user has to launch "gps" from the android-rpc recipe.
	That will be fixed in a future commit.

	Despite of the parsing problem,it seem to work, display the location etc...
	But it makes the logs grow

	In order to activate the htcdream's gps support, frameworkd.conf should
	have the following lines,after the ogsmd section:
	 [ogpsd]
	 device = GTA02Device
	 channel = SerialChannel
	 path = /dev/ttySAC1

2010-07-13  Martin Jansa  <Martin.Jansa@gmail.com>

	ogsmd ti_calipsy: update sysfs node for 2.6.32+ kernels on freerunner

	ogpsd: update sysfs node for 2.6.32+ kernels on freerunner

2010-07-07  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	oeventsd: workaround buggy kernel to get full vibration power. This patch should be disabled as soon as fixed kernel arrives.

2010-06-23  Tom 'TAsn' Hacohen  <tom@nospam>

	opimd: Updated TODO.

2010-06-05  Tom 'TAsn' Hacohen  <tom@nospam>

	Added following name changes of ogsmd (i.e ogsmd restarts). #557 Thanks to Paul Fertser.

2010-05-28  Tom 'TAsn' Hacohen  <tom@nospam>

	tools: Added opimd_fix_db to fix broken opimd database files.

2010-05-27  Antonio Ospite  <ospite@studenti.unina.it>

	ogsmd: freescale_neptune use "CallAndNetwork" channel for DeviceMediator
	This resembles more the behaviour of the original firmware which sends,
	for instance, +CFUN on mux1.

2010-05-21  Antonio Ospite  <ospite@studenti.unina.it>

	ogsmd: freecale_neptune, cleanup channels init
	Send AT commands only to the appropriate channels.
	Also reorganize the order of the channel classes in the code to reflect the
	respective dlci line order.

	ogsmd: freescale_neptune, make network registration more reliable
	On gen1 +CFUN={1,0} is very slow to sync up with the network and this can
	confuse ogsmd, by sleeping in DeviceSetAntennaPower and before NetworkRegister we
	give the modem the time to emit the responses to +CFUN and +COPS in a clearer
	order. We do the symmetric in NetworkUnregister.

	ogsmd: freescale_neptune, enable proper logging for URCs

	ogsmd: move _freescale_neptune_modemOn to __new__
	By moving _freescale_neptune_modemOn() from __init__() to __new__() we
	can return None if the modem can't be initialized.

	Note that now _freescale_neptune_modemOn() is a static method.

	ogsmd: freescale_neptune, enable modem on gen2 phones
	'+EPOM=1,0' is needed on gen2 for most commands to work (+CPIN for instance),
	add also some other commands seen when tracing original firmware, and also
	'+CRC=1' which seems to work fine.

	ogsmd: device.py, detect modem creation failure
	Some devices may be in a certain status that makes impossible to
	initialize the modem, in these cases we should not instanciate the
	actual Modem class and return None, so we need to detect that.

	ogsmd: freescale_neptune, handle URCs on the Misc channel

	ogsmd: freescale_neptune, implement plusCLIP URC

	ogsmd: freescale_neptune, fix init for gen2 EzX phones
	Gen2 EzX phones need to open a different set of dlci lines to make BP
	finish its initialization. By using the union of the gen1 and gen2 dlci
	lines sets, and ignoring errors about invalid lines for a given
	generation, we can make init work on both with the same code.

2010-05-20  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	schema: remove ring-volume and message-volume params. They didn't work and leaded to confusion of users.

2010-05-11  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	processguard: attempt to fix zombie at process shutdown

2010-05-07  Tom 'TAsn' Hacohen  <tom@nospam>

	opimd: changed Sender to Peer in messages.

	opimd: register signals through the bus, and not a proxy.

2010-05-04  Tom 'TAsn' Hacohen  <tom@nospam>

	opimd: Updated TODO.

2010-05-03  Tom 'TAsn' Hacohen  <tom@nospam>

	opimd: added sanity tests for not allowing addition of fields starting with < or >.

	Merge branch 'master' of ssh://git.freesmartphone.org/framework

	opimd: Added support for < and > which mean lesser than and bigger than respectively.

2010-05-02  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: Messages: support message reports with fsogsmd

2010-04-28  Tom 'TAsn' Hacohen  <tom@nospam>

	opimd: Updated TODO.

	opimd: Changed Recipient/Sender to Peer in messages.

	opimd: Updated TODO.

	opimd: moved the dbus import to the start.

	opimd: Renamed @contacts to @Contacts and added support for _retrieve_full_contact.

2010-04-27  Tom 'TAsn' Hacohen  <tom@nospam>

	opimd: GetMultipleResults returns all when the number of requested results is negative.

2010-04-26  Tom 'TAsn' Hacohen  <tom@nospam>

	opimd: Updated TODO.

	oevents: Fixed "oneshot" vibration. Changed vibration strength to 90.

2010-04-25  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: Calls: fix path returned by MissedCall signal (...again :P)

2010-04-25  Tom 'TAsn' Hacohen  <tom@nospam>

	opimd: Updated TODO.

	opimd: Fixed MissedCall signal.

2010-04-24  Tom 'TAsn' Hacohen  <tom@nospam>

	opimd: remove obsolete backend_manager.

	opimd: Updated TODO.

	opimd: updated TODO.

2010-04-23  Tom 'TAsn' Hacohen  <tom@nospam>

	Merge branch 'master' of ssh://git.freesmartphone.org/framework

	opimd: Fixed time parser. I assumed the date was day/month/year (I only had info with the date 10/04/10) While it actually was year/month/day.

2010-04-21  Klaus Kurzmann  <mok@fluxnetz.de>

	opreferencesd: adjust to API and rename Notify signal to Changed
	NOTE: this breaks applications listening to Notify !!!
	But is needed to make it work with glib signals (as used by libfso-glib).

2010-04-20  Tom 'TAsn' Hacohen  <tom@nospam>

	opimd: Fixed a crash on Update.

2010-04-19  Tom 'TAsn' Hacohen  <tom@nospam>

	opimd: Changed @ContactId to @contacts for future abstraction. Added a bit more infrastructure for future extensions to this temporary method.

	opimd: Updated TODO.

	opimd: Added support for list/array instead of , delimited list in GetMultipleFields.

2010-04-18  Tom 'TAsn' Hacohen  <tom@nospam>

	opimd: restricted usage of @ in the start of fields, this is reserved for joining domains.

	opimd: Added a file I forgot to commit.

	opimd: remove debug print.

	opimd: Added _resolve_phonenumber query flag that resolves the phonenumber to a @ContactId. Also added infrastructure for complex domain joins.

	Merge branch 'master' of ssh://git.freesmartphone.org/framework

	Fixed a major bug with fsogsmd timestamp parsing with west to greenwich timezones. (i.e "negative" timezones).

2010-04-17  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ophoned: add missing file headers

2010-04-15  Antonio Ospite  <ospite@studenti.unina.it>

	This allows BP init to complete successfully on EZX phones without having to rely on ezxd.

2010-04-15  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	oeventsd: give call status a 2nd chance to match in lowercase
	NOTE: This should fix interoperability with fsogsmd

	ophoned: use lower case comparison for call status
	This should fix interoperability with fsogsmd

2010-04-13  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: Messages: fix compatibility with Python 2.5

	opimd: db_handler: fix compatibility with Python 2.5

2010-04-12  Klaus Kurzmann  <mok@fluxnetz.de>

	opimd: make call logging work with fsogsmd too
	In fsogsmd the status in CallStatus signals is uppercase.

2010-04-10  Tom 'TAsn' Hacohen  <tom@nospam>

	opimd: fixed a typo from the last commit

	Added fsogsmd support for IncomingTextMessage

2010-03-22  Tom 'TAsn' Hacohen  <tom@nospam>

	oeventsd: Fixed vibration to work with fsodeviced instead of odeviced

2010-03-19  Tom 'TAsn' Hacohen  <tom@nospam>

	opimd: Added more error handling in the case we get IncomingStoredMessage although we specifically asked for no sim buffering. * Delete the corrosponding sim contact * Reset SimBuffering to False again.

2010-03-18  Tom 'TAsn' Hacohen  <tom@nospam>

	opimd: GetMultipleFields now support getting all fields of a certain type

	opimd: used the wrong variable in the if, and that caused a wacky behavior with fields with more than 2 values.

	opimd: Fixed a couple of typos in GetMultipleFields

2010-03-15  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: Contacts: uncomment default field types. It shouldn't be commented at all, as it's necessary to have sane defaults.

2010-03-10  Tom 'TAsn' Hacohen  <tom@nospam>

	opimd: We now restrict the addition of empty values in a better manner.

	opimd_conversion_script: Added safety checks that old opimd values are valid (not empty).

2010-03-09  Felix Huber  <felix.huber@schyf.de>

	Fixed Implement HFP pbook retrieval, call indication and bluetooth autostart

2010-03-09  Tom 'TAsn' Hacohen  <tom@nospam>

	Applied timestamps issue patch (in some cases importing data would fail without this patch) from Justus Winter.

2010-03-08  Tom 'TAsn' Hacohen  <tom@nospam>

	Revert "Implement HFP pbook retrieval, call indication and bluetooth autostart" The changes in this commit don't even pass syntax checking, I don't have the time or will to understand this commit and fix it properly. Leaving this for the original author.
	This reverts commit 4d4641684459fd64552b4fa305615717dda3f961.

	Added more instructions to the convert script.

	Merge branch 'opimd-redesign'

2010-03-07  Felix Huber  <felix.huber@schyf.de>

	Implement HFP pbook retrieval, call indication and bluetooth autostart

2010-03-01  Tom 'TAsn' Hacohen  <tom@nospam>

	Updated TODO

	Moved opimd convert script to the tools directory, and added it to setup.py

2010-02-26  Klaus Kurzmann  <mok@fluxnetz.de>

	ogsmd: add missing "serial" parameter to OpenSession call in ti_calypso/modem

2010-02-21  Tom Hacohen  <tom@nospam>

	Fixed a typo.

	Don't send duplicated results when each part of the query matches a contact more than once

	Fixed a small issue with error handling with regex in db

2010-02-20  Tom Hacohen  <tom@nospam>

	Fixed a lot of FIXMEs and Added QueryFailed dbus failure reason

	Updated TODO

	Started sending EntryId as well as Path, first step towards dropping it

	Adedd a couple of more exceptions (realetd to last commit).

	FIxed * We don't allow to query system fields, but we should catch the exceptions that makes, Add log messages when doing that and when trying to add reserved field

	Fixed * Don't let removing default must have fields Fixed typo Updated TODO

	Fixed a typo

	Fixed a bug with querying for entries with multiple fields

	Change list to dict in the python way of doing stuff

2010-02-19  Tom Hacohen  <tom@nospam>

	Added indexing on the date type in messages and calls, makes retrieving calls and messages a lot faster

	Fixed a bug causing Types not to be listed in the Types.List dbus method

	Add a default set of fields to the contacts domain

	Fixed bug in the conversion script that caused types not to get converted

	Fixed a bug with generating values for non generic fields

	Made the conversion script use opimd's modules. It's nicer, easier and safer.

	We don't need tasklets in type_manager, removed that

	Changed pimd_generic so some of it's functions will be usable from the convert script

	Cleaned pimd_generic's init function just in case someone decides to call it

	Changed default tables per domain Add some kind of handling when phoneutils is not present (the behavior is mostly undefined when comparing numbers in the db) Updated TODO

	Adedd a log message concerning libphone-utils Updated TODO

	Phoneutils is not a must in the convert_db.py script anymore, but it is strongly advised for creating indexed databases.

	Fixed hardcoded path in conversion script

	Updated both opimd and script to start using sqlite collation functions and indexes on phonenumber values Updated TODO

2010-02-18  Tom Hacohen  <tom@nospam>

	Added a workaround for a missing feature, should fix it though

	Fixed a bug with the query method

	Now adding must have fields, atm you can deleted them if you want, but they'll be added after a reboot automatically again Updated TODO: Don't allow removing default needed fields

	Unread messages count works New missed calls count works Updated TODO

	Fixed a typo that caused conversion/opimd not to work

	Added real type support (not only strings). Made database creation more generic Restricted adding reserved fields completely Added specific python types per opimd type

	Changed the script to work with the new type enforcement - i.e make sure fields are of a certain type

	Updated TODO

	Added support for the _at_least_one query option

	Fixed the path in the convert script Handle case when someone already converted the db Fixed a few issues

	Added convert_db.py that converts from the old db to the new

2010-02-17  Tom Hacohen  <tom@nospam>

	Fixed format string in Nacked log error

	Added a cast to int in path_to_id function

	Fixed a bug in get single entry single field

	Made pimd_messages more type safe and fixed a couple of bugs

	Messages: Getting incoming message is now a bit cleaner and works.

	created get_content in the generic domain Added missed call handling to phonelog

	Fixed a bug with sortby causing duplicate entries on retrieval

	Forgot to enable fso tracking in calls - Fixed Fixed a couple of bugs in the calls backend Fixed a bug with GetSingleEntrySingleField

	Fixed a bug preventing running only one subsystem without the frameworkd subsystem

	Fixed a bug causing fields tables not to be created for domains other than contacts Moved loading fields to initialization instead of the ugly initialize everywhere Fixed a bug when listing domain fields

	Moved RESERVED_DEFAULT_FILEDS handling to pimd_generic.py Added a bit of restrictions concerning adding default fields

2010-02-17  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	frameworkd: add new command line option -n / --noframework to not start the special framework subsystem
	This is necessary, if you want to run several frameworkd processes with different sets of subsystems in parallel

2010-02-17  Tom Hacohen  <tom@nospam>

	Added phonelogging capabilities to the calls backend I did not test it very well, but should work (code from old opimd).

	Set SimBuffersSms to False (i.e don't buffer) this fixes the issue of sms getting saved on sim and not in sqlite

	Added loading fields at generic domain init

	fixed a couple of bugs

2010-02-16  Tom Hacohen  <tom@nospam>

	Fixed a typo

	Added support for handling incoming messages from ogsmd

	Added regex support Added everything needed for (non-optimized) number normalization Updated TODO

	Made db creation generic for all the domains, should improve but basic structure is there and everything works

	get_table_name and get_table_name_from_type are now generic and implemented in the parent object (db_handler) Fixed a bug that didn't let use two fields of the same type for a specific contact Renamed *_numbers tables to *_phonenumber (to match the type)

	removed the hackish list_types

	Added the internal list_types function and fixed a typo that would have caused bugs in the future

	Update TODO Fixed spacing (vs tabs) in contacts + messages daemons Fixed a typo in messages

	Passing lists in query means multiple options, i.e if Phone = [123, 12] the query will return all the contacts that their phone number is either 123 or 12

	Added the entry_id (used for linking in the db) type

	Updated TODO

	Fixed pimd_calls.py

	Fixed pimd_dates

	Fixed pimd_tasks.py

	Fixed pimd_notes.py

	Removed all backends

	Dropped folders system from messages Fixed contact info

	Did most of pimd_messages.py

	Added opimd TODO

	Made contacts and db_handler more generic

	Fix the remains of the contacts-domain specific code in db_handler.py Fix all of the TBDs

	Did a bit of renaming (internal stuff) Moved ContactsDbHandler to pimd_contacts.py

	Removed supported domains list from db_handler (old backend relic) Made the db_handler more generic, each domain needs to implement the bare minimum now Fixed a bug that caused empty queries (i.e get all) not to work.

	Added contact information, and removed the Entry entities

	Adding and removing fields now also moves old values (from deleted/added fields) to the correct tables

2010-02-15  Tom Hacohen  <tom@nospam>

	Fixed a small indent issue, and moved the generic functions to their generic location

	Fully working querying/adding/removing/updating

2010-02-12  Tom Hacohen  <tom@nospam>

	opim: added a file I forgot to add in the previous commit

	opimd: Initial import of the redesign. It's still a terrible mess, not everything works (iirc only adding and deleting contacts works) This commit only includes cleanup and features for the contacts domain. Fields pickle file is now stored in the db

2010-02-11  Tom Hacohen  <tom@nospam>

	opimd: Changed _limit to _pre_limit which limits before sorting, and changed _limit to limit after everything is done.

2010-01-28  Klaus Kurzmann  <mok@fluxnetz.de>

	setup.py: install the remove-tel script

	tools: add remove-tel script needed to convert old contacts to type based opimd

2010-01-26  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: update TODO

2010-01-25  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	Merge branch 'master' of git.freesmartphone.org:framework into dos/opimd-tracking

2010-01-16  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	cli-framework: do not introspect as this is starting all services on demand otherwise

2009-12-13  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: Contacts: add Nickname to default field types

2009-12-10  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: fix quering with non-str values

2009-12-09  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: update TODO

	opimd: rename Field dbus methods due to problems with duplicated names ***Breaks API!***

	opimd: Generic: fix typo in ListFieldsWithType

	Merge remote branch 'origin/dos/opimd-tracking' into dos/opimd-tracking

	opimd: SIM-Messages-FSO: remove usage of phone_number_to_tel_uri

	opimd: SIM-Contacts-FSO: remove usage of phone_number_to_tel_uri

	opimd: ogsmd Calls: remove usage of phone_number_to_tel_uri

2009-12-06  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: Tasks: add ListFieldsWithType dbus method

	opimd: Dates: add ListFieldsWithType dbus method

	opimd: Calls: add ListFieldsWithType dbus method

	opimd: Notes: add ListFieldsWithType dbus method

	opimd: Messages: add ListFieldsWithType dbus method

	opimd: Contacts: add ListFieldsWithType dbus method

	opimd: Generic: implement list_fields_with_type method

	opimd: update TODO

	opimd: Calls: add default field types

	opimd: TypeManager: add number and integer types

	opimd: Messages: fix copy'n'paste error

	opimd: Messages: add default field types

	opimd: Type Manager: add boolean and timezone types

	opimd: Tasks: implement org.freesmartphone.PIM.Fields dbus methods

	opimd: generic: take care if FieldTypes isn't None on loading

	opimd: Notes: implement org.freesmartphone.PIM.Fields dbus methods

	opimd: Dates: implement org.freesmartphone.PIM.Fields dbus methods

	opimd: Calls: implement org.freesmartphone.PIM.Fields dbus methods

	opimd: Messages: implement org.freesmartphone.PIM.Fields dbus methods

	opimd: contacts: implement org.freesmartphone.PIM.Fields dbus methods

	opimd: generic: save fields modifications; don't fail on listing when list is None

	opimd: generic: implement list_fields, add_new_field and remove_field functions

	opimd: helpers: fix typo in dbus error

	opimd: contacts: define default field types

	opimd: generic: support loading, storing and fallbacking to default field types

	opimd: TypeManager: add objectpath type

2009-12-05  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: implement number normalizing using phoneutils with new, TypeManager way

	opimd: be aware of different field types Changes nothing yet :P

	opimd: remove all old handling of 'tel:' URI

	opimd: TypeManager: add few more default types

	opimd: introduce Type Manager

	opimd: update TODO

2009-11-28  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: const.py: speed up parsing networks.tab by assuming the file is really in UTF-8

2009-11-27  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: Dates: fix copy'n'paste errors in new signals

	opimd: Notes: fix copy'n'paste error in DeletedNote

	opimd: Tasks: few references to Notes remained, kill'em!

	opimd: Tasks: implement DeletedTask and UpgradedTask signals

	opimd: Tasks: fix references to Notes domain remaining there after copy'n'paste

	opimd: Notes: implement DeletedNote and UpdatedNote signals

	opimd: Dates: implement UpdatedDate and DeletedDate

	opimd: Calls: implement DeletedCall and UpdatedCall signals

	opimd: Messages: implement DeletedMessage and UpdatedMessage signals

	opimd: Contacts: fix dbus interfaces in new signals

	opimd: Contacts: implement DeletedContact and UpdatedContact signals

	opimd: fix error when using Python 2.4

2009-11-22  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: update TODO

2009-11-17  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	testing: add 5 seconds blocking delay to all operations, so that we can actually see whether client operations are being carried out sync. or async.

2009-10-20  Tom Hacohen  <tom@stosb.com>

	opimd: Numbers are sometimes sent as 'unicode', changed the checks to conform to that. This solves the numbers not resolving issue. There's probably a bug somewhere else, though in the meanwhile this solves the issue.

2009-10-20  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	Merge branch 'master' of git.freesmartphone.org:framework into dos/opimd-tracking

2009-10-14  Baruch Even  <baruch@ev-en.org>

	ogpsd: Set NAV2 parameters to define the static threshold to reduce movement noise when the GPS is stationary.

	ogpsd: Correct the comment about usage of SBAS
	We set mode to 1 which means we use SBAS but not if its in test-mode.

2009-10-10  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: update TODO

	opimd: init phone-utils earlier. Fixes wrong comparition values for phone numbers in contacts loaded at boot.

2009-10-09  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: helpers: little cosmetic fix

2009-10-06  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	cli-framework: add gsmrtc as FSO2 is (re)using the RTC interface for the Modem Clock

2009-10-06  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: SQLite-Tasks: change floats into ints

	opimd: SQLite-Notes: change floats into ints

	opimd: SQLite-Calls: change floats into ints

	opimd: ogsmd-Calls: change floats into ints

	opimd: SIM-Messages-FSO: change floats into ints

	opimd: SQLite-Messages: change floats into ints

2009-10-03  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: update TODO

	opimd: SQLite-*: use FLOAT type in database for Timestamps and Duration fields

2009-09-27  Guillaume Anciaux  <g.anciaux@laposte.net>

	opimd: VCard-Contacts: fix storing vcard entries Signed-off-by: Sebastian Krzyszkowiak <seba.dos1@gmail.com>

2009-09-26  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	Merge commit 'origin/dos/opimd-tracking' into dos/opimd-tracking

	opimd: VCard-Contacts: fix logger levels

	opimd: VCard-Contacts: fix local variable 'value' reference before assignment

	opimd: VCard-Contacts: write in log about missing python-vobject if importing fails

	opimd: VCard-Contacts: few fixes (EMail=>E-mail, use the same file for reading and storing)

2009-09-26  Guillaume Anciaux  <g.anciaux@laposte.net>

	opimd: add VCard-Contacts backend Signed-off-by: Sebastian Krzyszkowiak <seba.dos1@gmail.com>

2009-09-26  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: GenericDomain: fix unicode problems in make_comp_value

2009-09-16  Heinervdm  <zimmermann@vdm-design.de>

	opimd: Dates: fix copy and paste error Signed-off-by: Sebastian Krzyszkowiak <seba.dos1@gmail.com>

2009-09-13  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: SIM-Messages-FSO: comment out not-really-well-thought (read as: why the hell is it there?) code

	Merge branch 'master' of git@git.freesmartphone.org:framework into dos/opimd-tracking

2009-09-13  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [TI CALYPSO]: on closing, drop out of muxing mode and power off the modem (AT@POFF)

2009-09-13  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	Merge commit 'origin/dos/opimd-tracking' into dos/opimd-tracking

2009-09-13  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: fix SMS timezone being parsed incorrectly for places where GMT<0 Fixes FSO #476. Patch courtesy "dkogan", thanks a lot!

2009-09-13  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: GenericDomain: move new get_full_content function out of comment ;x

	opimd: SIM-Messages-FSO: fix CSM handling

	opimd: GenericDomain add get_full_content function (returns also parser fields)

2009-09-12  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	Merge branch 'dos/opimd-tracking'

2009-09-12  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	cli-framework: fix devrtc and add timealarm

2009-09-12  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: SQLite-*: add isolation_level=None when connecting to sqlite file. Thanks TAsn! Closes #477

2009-09-09  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: Messages: fix AddIncoming

2009-09-07  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: Messages: implement AddIncoming dbus method
	It can be used by apps to "deliver" message to user, without writing special
	opimd backend/handler for that.

	odeviced: implement WakeupTimeChanged signal in RTC

2009-09-07  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	odeviced: kernel26: do not bail out, if we can't query the RTC

2009-09-07  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: Tasks: fix Update

	opimd: Tasks: fix Update

	opimd: Tasks: fix UnfinishedTasks

	opimd: Calls: fix possible traceback on deleting

	opimd: Messages: fix dbus signature in GetMultipleResults

2009-09-06  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	Merge branch 'dos/opimd-tracking' of git@git.freesmartphone.org:framework into dos/opimd-tracking

	opimd: Message: fix deleting messages without MessageRead and Direction fields (most often messages from SIM backend)

	opimd: update TODO

2009-09-05  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	Merge branch 'master' of git@git.freesmartphone.org:framework into dos/opimd-tracking

2009-09-05  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	otimed: alarm: catch up with API change in kernel26_rtc

	odeviced: kernel26: always use ioctls for talking to the realtime clock Warning: API change: This commit brings the exported interface in line with the FSO specs

	odeviced: add list of available scenarios in org.freesmartphone.Device.Audio

	odeviced: fix org.freesmartphone.Device.Audio.GetInfo() implementation

2009-09-04  Michael Kurz  <betheg@bitcloner.org>

	ogsmd: substitute empty provider string with information from network.tab. Fixes FSO #466 Some providers are too new for the modem, hence we get something like: +COPS: (2," "," ","26201"),(1,"o2 - de","o2 - de","26207"),(1,"E-Plus","E-Plus","26203"),(1,"Vodafone.de","Vodafone","26202") This fixes it by checking our (hopefully more current) provider database.

2009-09-03  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	Merge branch 'master' of git@git.freesmartphone.org:framework into dos/opimd-tracking

2009-09-03  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: ignore empty alphanumerical provider strings (happening for new providers) NOTE: Clients should use the SIM issuer instead, if registered to the home network. For this you have to call org.freesmartphone.GSM.SIM.GetSimIssuer() though, hence for layering purposes, we're not allowed to do it transparently in GetStatus(). Fixes FSO #465

2009-09-01  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: Tasks: implement UnfinishedTasks signal and GetUnfinishedTasks method

	opimd: Calls: fix syntax

	opimd: Notes: implement NewTag and TagRemoved signals

	opimd: Messages: implement GetUnreadMessages method

	opimd: Calls: implement GetMewMissedCalls method

2009-08-31  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: implement disabling handlers

	opimd: backend manager: add Synchronize method

	opimd: fix possible incorrect query results when using _at_least_one mode

	opimd: fix returning multiple fields with the same data after merging

	opimd: Messages: fix copy'n'paste issues

	opimd: Messages: move to GenericDomain

	Merge branch 'master' of git@git.freesmartphone.org:framework into dos/opimd-tracking

	opimd: fix merging

2009-08-29  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: SIM-Messages-FSO: start preparing for GenericDomain migration

	opimd: SIM-Messages-FSO: another attempt to fix deleting

	opimd: SIM-Messages-FSO: fix deleting messages

	opimd: Messages: backport last changes from GenericDomain

	opimd: kill duplicates! We don't like them!

2009-08-27  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: cast Timestamp to float when loading from database

	opimd: support less or equal and greater or equal
	Usage is the same like with _lt_ and _gt_ (_le_ and _ge_)

	opimd: Dates: remove custom matcher

	opimd: fix sorting non-string values

	conf: enable merging in opimd Contacts domain

	opimd: disable merging by default

	opimd: little optimalizantion in merging and getting field value from entry

	opimd: add possibility to sort case sensitive
	To use that, query with _sortcasesens set to non-false value. Default is False.

2009-08-26  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: implement _initialized in backends

2009-08-26  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: add KPN, thanks dos1

	ogsmd: add provider 'Telfort' to gprs. Thanks pander, closes FSO #394

	ogsmd: add number type 161 as reported by shishz Closes FSO #469

2009-08-26  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: now *really* place entries without field which is used for sorting always on end ;)

	opimd: place entries without field which is used for sorting always on end

	opimd: implement sorting
	_sortby field in query specifies field name to use when sorting.
	To reverse results, use non-false value of _sortdesc

	Merge branch 'dos/opimd-tracking'

	opimd: add new mode in quering: at least one
	To use it, set _at_least_one field to non-false value.
	In this mode returned entries match to at least one field in query.

	opimd: Calls, Notes: check entry id when deleting to prevent tracebacks

	opimd: remove entries from cache when disabling backend

	opimd: backend manager: send dbus signal after initializing all backends on startup

	opimd: add experimental support of "greater than" and "lesser than" queries
	Field names to use when quering:
	_lt_Field, _float_lt_Field, _gt_Field, _float_gt_Field - compare after casting to float
	_int_lt_Field, _int_gt_Field - compare after casting to int

2009-08-25  Eric Olson  <eolson@cronbread.org>

	config: improve finding installpath when symlinked (ipkg-link etc.) to other locations

2009-08-25  Mirko Vogt  <spam@nanl.de>

	patterns: chose the first libc you find, this makes is works with uclibc. Fixes FSO #338

2009-08-25  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	Merge branch 'master' into dos/opimd-tracking

	opimd: little updates in docs directory

	opimd: backend manager: add GetInitialized method
	ATM it always returns False, but it'll change when backends learns how to use it.

	opimd: handle correctly blank fields

2009-08-24  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: handle comp_value correctly

	opimd: move making comp_value into function

	opimd: Don't create comp_value when not needed

	opimd: Fix updating multiple fields

2009-08-23  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: SQLite-*: fix traceback when editing

2009-08-22  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: SQLite-*: support editing multiple values of one field

	opimd: SQLite-Notes: support editing multiple values of one field

	opimd: Notes: rename GetTags to GetUsedTags

2009-08-21  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: Notes: implement GetTags method

	opimd: catch up with changes in dbus errors

	opimd: Calls: fix copy'n'paste error

	opimd: Generic: use re.escape instead of str.replace

	opimd: Todos: rename to Tasks

2009-08-20  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: SQLite-Todos: add new backend

	conf: add default backends for new domains

	opimd: SQLite-Notes: add new backend

	opimd: SQLite-Dates: fix typo when updating entry

	opimd: Dates: fix quering in Dates domain. (more love is still needed)

	opimd: add Todos domain

	opimd: Dates: fix traceback when adding entry

	opimd: don't fail when can't import phoneutils

	opimd: Calls: fix copy'n'paste error in Update and Delete

	opimd: accidentaly commited too lot. Fixing.

	opimd: use libphone-utils to normalize phone numbers, fix quering multiple values and fix entry paths

2009-08-19  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: Notes: add new domain

	opimd: Calls: few cosmetic fixes

	opimd: Calls: fix register_missed_call

	opimd: Calls: fix copy'n'paste error

	opimd: SQLite-Calls: fix function names

	opimd: Calls: implement missing stuff

	opimd: Calls: base Calls domain on GenericDomain (not everything ported yet!)

	opimd: Contacts: cosmetic changes in few comments

	opimd: Query manager: fix missing import

2009-08-15  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: SIM-Messages-FSO: try to fix deleting messages

2009-08-14  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	Merge branch 'master' into dos/opimd-tracking

	opimd: SQLite-Contacts: fix typo in Department field, which may cause problems when editing

2009-08-10  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: Dates: raise correct dbus error (InvalidData)

	opimd: helpers: add InvalidData dbus error

	opimd: Dates: fix syntax error

2009-08-10  Thomas Zimmermann  <zimmermann@vdm-design.de>

	opimd: include Dates domain and SQLite-Dates backend when loading Signed-off-by: Sebastian Krzyszkowiak <seba.dos1@gmail.com>

2009-08-10  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: Dates: don't reference do Contacts in code anymore

2009-08-10  Thomas Zimmermann  <zimmermann@vdm-design.de>

	opimd: Dates: fixed indentiation error and removed unused method GetDatesOfDayByTimestamp Signed-off-by: Sebastian Krzyszkowiak <seba.dos1@gmail.com>

	opimd: add Dates domain and SQLite-Dates backend Signed-off-by: Sebastian Krzyszkowiak <seba.dos1@gmail.com>

2009-08-08  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: SIM-Contacts-FSO: update function names

	opimd: Generic: fix dbus signatures

	opimd: Contacts: fix dbus signature in GetContactPath

	opimd: Contacts: inherit from GenericDomain, general fixes

	opimd: Generic domain: general fixes

	opimd: Query manager: fix variable name

	opimd: SQLite-Contacts: update function names

	opimd: CSV-Contacts: Update function names

2009-08-07  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: Contacts: get rid of SingleQueryHandler - use one from query_manager

	Merge branch 'master' of git@git.freesmartphone.org:framework into dos/opimd-tracking
	Conflicts:
		framework/subsystems/opimd/pimd_contacts.py

	opimd: fix posible division by zero when matching entries. Should fix delivery reports.

2009-08-07  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: remove duplicated function

	ogsmd: fix GetCallForwarding unhandled exception in response callback. Closes #462 Thanks to 'Michael' (please include your E-Mail address, if you want proper credit ;)

	docs: add (longer) ussd session

2009-08-03  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	Merge branch 'master' of git@git.freesmartphone.org:framework into dos/opimd-tracking

	opimd: SIM-*-FSO: cast _backend_entry_id to int when deleting and updating

	opimd: use GenericEntry in Contact class and refactor some opimd structures (experimental!)

	Merge branch 'master' of git@git.freesmartphone.org:framework into dos/opimd-tracking

2009-08-03  Jan Luebbe  <jluebbe@debian.org>

	ogsmd: [TI CALYPSO] verify that we got a complete monitor response from the modem

2009-08-01  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: fix imports and move QueryMatcher class into query_manager.py

	opimd: GenericDomain: implement EntryAdded signal in queries

	Merge branch 'master' of git@git.freesmartphone.org:framework into dos/opimd-tracking

	opimd: Queries: implement (Contact|Message|Call)Added signal

2009-07-31  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: GenericDomain: implement merging

	opimd: GenericDomain: few cosmetic changes

	opimd: add GenericDomain

	opimd: helpers: fix typo in NoMoreCalls dbus exception

	opimd: Calls: fix typo in GetSingleCallSingleField method

2009-07-29  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: make merging a little faster and fix bug with duplicates

	opimd: ogsmd-Calls: fix error when loading entries

2009-07-27  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: SIM-Messages-FSO: implement deleting messages

2009-07-25  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: move factory from __init__.py to opimd.py

	opimd: Messages: add forgotten import

	opimd: Calls: use regexps instead of difflib

	opimd: Messages: use regexps instead of difflib

	Use regular expressions instead of difflib in Contacts domain

2009-07-21  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: SIM-Messages-FSO: fix fail when opimd starts before ogsmd

2009-07-19  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: SQLite-*: support multiple fields with the same name

	ogsmd: abstract modem: fix traceback on error

	opimd: little cleanup, copyrights, pypimd -> opimd

	opimd: CSV-Contacts: support multiple fields with the same name

	opimd: SIM-Messages-FSO: fix possible error when installing signal handlers

	opimd: SQLite-Contacts: add indexes to database

	opimd: SQLite-Messages: add indexes to database

	opimd: SQLite-Calls: order by id desc as default

	opimd: SQLite-Calls: remove too much indexes

2009-07-18  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	Merge branch 'master' of git@git.freesmartphone.org:framework

	oeventsd: add And function to parser

2009-07-15  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	* Merge mickey/full-csd-handling branch into master. This adds a new configuration entry 'data-call-handler' in section [ogsmd] where a handler binary can be specified that gets called whenever a data call has been setup. This handler will be called with params <direction> <port>, where direction is "incoming" or "outgoing" (depending on whether you are the data call initiator or peer), and port is a device node that can be used for communicating. Once the binary exits, the call is hung up. * Post-release version bump

	Merge commit 'origin/mickey/full-csd-handling'

2009-07-12  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	networks.tab: update information about CenterNet network (Poland)

	opimd: ogsmd-Calls: handle calls on multiple lines

	opimd: docs: update api overview

	oeventsd: fso_triggers: add IncomingUssd trigger

	oeventsd: fso_triggers: add UnreadMessages and UnreadMessagesTrigger

	opimd: Messages: implement UnreadMessages signal

	oeventsd: fso_triggers: add NewMissedCalls and NewMissedCallsTrigger

	opimd: Calls: implement NewMissedCalls signal and make Update a bit faster

	opimd: cosmetic changes in _limit handling

	opimd: SQLite-Messages: fix poor typo...

	opimd: add new property PIMB_IS_HANDLER

	opimd: SQLite-Messages: add missing PIMB_CAN_UPD_ENTRY_WITH_NEW_FIELD to properties

2009-07-11  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: remove unnecessary transformations. Should speed up a litle quering.

2009-07-10  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: make queries with _limit higher than amount of reslts working

	opimd: SQLite-Calls: fix tracebacks introduces by latest commits

	opimd: SQLite-Calls: fix typos

	opimd: SQLite-Calls: provide some fields as float and some as int

	opimd: Calls: use Peer field instead of Caller and Recipient

	networks.tab: update information about Play network (Poland, 260-06)

	config: specify default Calls backend for opimd (SQLite-Calls)

	opimd: SQLite-Calls: add more indexes

	opimd: SQLite-Calls: add IF NOT EXISTS when adding index to database

	opimd: add dbus errors related to calls

2009-07-09  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: SQLite-Calls: add index on Direction field

	opimd: SQLite-*, remove added and updated fields, DELETE from db instead of setting deleted field to 1.

	opimd: don't return private fields in GetContent

	Merge branch 'master' of git@git.freesmartphone.org:framework

	opimd: don't list empty fields in content

2009-07-09  Jan Luebbe  <jluebbe@debian.org>

	celldb: skip broken cell ids

	add tool to dump the binary cell db

	celldb: update from cellhunter

2009-07-09  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: SIM-Messages-FSO: fix syntax error

	opimd: SIM-Messages-FSO: add error handling when handling timestamp

	opimd: Backend Manager: don't allow setting backend without ADD property as default

	opimd: ogsmd-Calls: handle calls with hidden peer number

2009-07-09  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	this is milestone 5.5

2009-07-09  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: SIM-Messages-FSO: handle timestamps

2009-07-08  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: SQLite-Messages: fix typo

	opimd: ogsmd-Calls: store Timezone data

	opimd: register new domain and backends

	opimd: Add Calls domain, SQLite-Calls backend and ogsmd-Calls backend (handler)

	opimd: SQLite-Messages: remove Date field and add Timestamp and Timezone fields

	Merge branch 'master' of git@git.freesmartphone.org:framework

2009-07-08  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	etc: new ringtones

2009-07-08  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: Messages: comment check_new_message. It doesn't work now, only slows down everything.

2009-07-08  Tommy B  <tommy.b@gmx.net>

	oevents: fso_actions: call updatepending when untriggering occupyresource

2009-07-08  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: SIM-Messages-FSO: add log message when nacking message

2009-07-04  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	ogpsd: fix typo in log messages

2009-07-03  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	resource: enable, if ousaged is not present

2009-07-02  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: SIM-Messages-FSO: check if status-report-request is 1 when handling receipt

2009-07-01  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ousaged: mark as DEPRECATED

	resource: try to actually call fsousaged before giving up (if you're lucky, it might start on demand due to dbus system activation) * use dbuscache

2009-06-29  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [TI CALYPSO] lower threshold for waking Calypso up from deep sleep

2009-06-29  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: SIM-Messages-FSO: mark merged message as unread after incoming CSM

	opimd: SIM-Messages-FSO: handle incoming split messages and indicate missing parts

2009-06-28  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: SIM-Messages-FSO: use more fields when quering for delivery report handling

	opimd: SIM-Messages-FSO: install signal handlers and SetSimBuffersSms on AuthStatus, not ReadyStatus

	opimd: SIM-Messages-FSO: change True and False to 1 and 0 in field values

	opimd: SIM-Messages-FSO: add SMS-complete_message and SMS-combined_message on incoming split message

	opimd: SIM-Messages-FSO: clean SMS-message-reference field on delivery report

	opimd: SIM-Messages-FSO: export part of split message in field in incoming message

	opimd: SIM-Messages-FSO: export parts of split messages in fields of stored messages

2009-06-27  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: Contacts: allow disabling merging from config

2009-06-27  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	oeventsd: fix syntax error in actions; don't bail out, if opreferences is not existing

2009-06-27  Sudharshan 'Sup3rkiddo' S  <sudharsh@gmail.com>

	otimed.alarm: Fix a little typo. Clears the timer properly

2009-06-27  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: SIM-Messages-FSO: Nack message when registering failed

	opimd: SIM-Messages-FSO: handle message receipts (delivery reports)

	opimd: SIM-Messages-FSO: add Source field with value 'SMS'

2009-06-26  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	odeviced: kernel26: remove APM power class supply. We do not support APM.

2009-06-26  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	Merge branch 'master' of git@git.freesmartphone.org:framework

2009-06-26  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	oeventsd: fso-actions: don't store values acquired by oprofile as variants

2009-06-26  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: SQLite-Contacts: fix accidentaly wrapped line

	opimd: SQLite-*: handle database errors

	opimd: SQLite-*: don't store special _ fields

	opimd: SIM-Messages-FSO: rename Text field to Content

	opimd: Messages: allow disabling merging in config

	opimd: SQLite-Messages: fix updating MessageRead, MessageSent and Processing fields

2009-06-25  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: Messages: rename GetMessageURI to GetMessagePath and GetMessageURIs to GetMessagePaths

	opimd: don't fail when some queried field is not string

	opimd: implement MessageUpdated and MessageDeleted signals

	opimd: implement NewContact, ContactUpdated and ContactDeleted signals

2009-06-24  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: SIM-Messages-FSO: change _sms_... fields to SMS-...

	opimd: don't fail on registering item, when some other was deleted previously

	opimd: BackendManager: don't fail when registering or loading entries from some backend fails

	opimd: SIM-Messages-FSO: disable SIM SMS buffering after installing signal handlers

2009-06-23  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: don't change paths when deleting contact/message

	opimd: SQLite-Messages: fix adding new messages to database

	opimd: use better way for installing ReadyStatus signal handler

	opimd: install GSM signal handlers even if ogsmd isn't present when initing opimd

	opimd: update docs

	opimd: SQLite-Messages: change read and sent to MessageRead and MessageSent, and add Processing field

	opimd: Messages: implement Update method

2009-06-21  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	oeventsd: fso_actions.py: fix typo in connect_to_signal

2009-06-21  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: Messages: fix possible duplicating incoming messages

	opimd: SIM-Messages-FSO: SMS fields now starts with _sms_*, not _backend_*. Only SIM ID stays _backend_entry_id

	opimd: Messages: add stub for single_message_matches

	opimd: Messages: fix tracebacks in few dbus methods

	conf: specify default backend for opimd Messages domain

2009-06-20  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: Messages: Implement handling incoming messages

	opimd: introduce PIMB_NEEDS_SYNC property and use it instead of try...except: blocks

	[opimd] Messages: implement Delete method and support it in SQLite backend

	[opimd] add SQLite-Messages backend

	[opimd] Messages: fix possible division by zero

	[opimd] Contacts: fix possible division by zero

2009-06-18  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	resource: fix checkedasyncmethod to properly raise errors

2009-06-17  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	oeventsd: fso_actions: add state logic to the OccupyResource action

	frameworkd: don't fail if loophole can't be launched

	resource: add exception logger

	objectquery: use dbuscache.dbusInterfaceForObjectWithInterface

2009-06-12  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	frameworkd.conf: make it work on newer dbus versions that are non-permissive (aka: paranoid) by default

2009-06-12  Luca Capello  <luca@pca.it>

	Improve frameworkd configuration example and dbus configuration
	[PATCH 1/5] Gypsy belongs to the freedesktop tree in D-Bus frameworkd.conf
	[PATCH 2/5] conf/example/frameworkd.conf: adjust log_level use
	[PATCH 3/5] conf/example/frameworkd.conf: simplify log_to documentation
	[PATCH 4/5] conf/example/frameworkd.conf: adjust disable use
	[PATCH 5/5] conf/example/frameworkd.conf: fix English typos

2009-06-09  Jan Luebbe  <jluebbe@debian.org>

	idlenotifier: finally fix #416

	Revert idlenotifier to 516f48762ab7afa4e4702a0ba01bc0a004ae4c60

2009-05-29  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [ABSTRACT] fix reporting access technology in status signal

	ogsmd: [QUALCOMM MSM] fix typo in ppp options. NOTE: Given a recent kernel, ppp works fine w/ UMTS for the HTC Raphael and friends.

2009-05-28  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: SIM_Messages_FSO: fix crash when last part of split message isn't in inbox

2009-05-28  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	docs: [QUALCOMM MSM] add +gkti urc

2009-05-23  Alain2210  <alain2210@free.fr>

	ogsmd: [FREESCALE NEPTUNE] enable charging and fix a buglet in the modem's channel

2009-05-23  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	odeviced: audio.py: fix sending dbus signals for AlsaPlayer. Thanks Toaster for spotting.

2009-05-23  Alain2210  <alain2210@free.fr>

	oeventsd: add KeypadEvent trigger to fso_triggers, add Shutdown action to fso_actions

	ogsmd: [FREESCALE NEPTUNE] fix GetAuthStatus for modems which do not support +CPIN?

2009-05-21  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: SQLite_Contacts: provide _backend_entry_id as int

	opimd: SIM_Contacts_FSO: provide _backend_entry_id as int

	opimd: SIM_Contacts_FSO: indicate possibly truncated field values

2009-05-21  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Fix copy and paste error to also support CSM with 16 bit IDs

2009-05-21  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: SIM_*_FSO: fix possible tracebacks

2009-05-20  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	dbuscache: use python2.5-compatible syntax

2009-05-19  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: SIM_Messages_FSO: init automatically on SIM ready

	opimd: SIM_Contacts_FSO: load entries automatically after SIM goes ready

	opimd: Backend manager: init backends paralelly on opimd startup

2009-05-18  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [FREESCALE NEPTUNE] honor custom +EKEV URC and send org.freesmartphone.GSM.Device.KeypadEvent()

	ogsmd: add signal org.freesmartphone.GSM.Device.KeypadEvent( s, b )

	dbuscache: commit missing hunk

2009-05-17  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: channel.py: relaunch processing the queue after handling a timeout. Closes FSO #414.

	ousaged: trigger idlenotifier's busy state after waking up. Closes FSO #410

	ophoned|otimed: use dbuscache

	dbuscachepy: use lazy lookup by default. NOTE: This means you can never assume that a dbus object is actually present by the time you want to call it. You need to be prepared for errors.

2009-05-17  Sebastian Krzyszkowiak  <dos@debian.example.com>

	opimd: SIM_Messages_FSO: combine spliten messages

	opimd: Messages: implement merging Messages from different backends and duplicates

	opimd: Contacts: remove unnecesary variable

2009-05-16  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [TI CALYPSO] reorder suspend/resume commands make sure SMS/CB notifications are disabled first, and reenabled last

2009-05-16  Sebastian Krzyszkowiak  <dos@debian.example.com>

	opimd: SIM_Messages_FSO: some initial work

2009-05-16  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: repair damage done by 9c746079d020f483257c64200cd0e18ca8586f13. should fix #404

2009-05-15  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: Contacts: use lower TRESHOLD to have better contact name resolving

	opimd: Messages: fix inconsistences with Contacts backend

	opimd: implement adding new fields when updating existing contact

2009-05-13  Daniel Willmann  <daniel@totalueberwachung.de>

	oeventsd: Fix SetLed rule
	SetLed needs to follow name owner changes since they aren't there at the
	time oeventsd parses the rule. This commit adds an attribute
	follow_name_owner_changes to the
	dbuscache.dbusInterfaceForObjectWithInterface method.

	Merge branch 'master' of ssh://git@git.freesmartphone.org/framework

	ogsmd: Handle the case where the address has zero length
	Comparing with [] doesn't work for arrays len() == 0 is better.

2009-05-13  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: SIM_Contacts_FSO: cosmetical fix

	opimd: SIM_Contacts_FSO: fix adding new contacts

	opimd: SIM_Contacts_FSO: implement adding new contacts on SIM

2009-05-13  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	rules: fix requesting the CPU resource during calls

	odeviced: kernel26: check whether the battery is actually present before evaluating the capacity This should fix the infamous shutdown when you use a GTA01 battery in GTA02.

2009-05-12  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: CSD handling with external call handler part 2/3 done (outgoing)
	Limitation: the state machine does not know about the additional state and will raise an execption,
	on everything call handling while the call handler is active. To end a call while the csd handler
	is still active, you can only use org.freesmartphone.GSM.Call.ReleaseAll()

	ogsmd: CSD handling with external call handler part 1/2 done (incoming)

2009-05-11  Sebastian Krzyszkowiak  <dos@debian.example.com>

	opimd: SIM_Contacts_FSO: another try to fix Update() and Delete()

2009-05-10  Jan Luebbe  <jluebbe@debian.org>

	otimed: handle the case when we have no GSM time zone and are in a multi zone country

2009-05-08  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: SIM_Contacts_FSO: fix Update() and Delete()

	opimd: Contacts: call upd_contact only once for every used backend

	opimd: SIM_Contacts_FSO: don't block whole frameworkd when deleting or updating SIM contact

2009-05-08  Sudharshan 'Sup3rkiddo' S  <sudharsh@gmail.com>

	otimed: Fix a couple of tiny typos

2009-05-08  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	odeviced: idlenotifier: do not reset all config timeouts when re(enabling) one

2009-05-08  Sebastian Krzyszkowiak  <dos@debian.example.com>

	opimd: Contacts: implement GetUsedBackends()

2009-05-07  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: helpers: add IncorectDomain error

	opimd: Contacts: implement merging Contacts, Messages: rename enumerate_(contacts|messages) to enumerate_items

	opimd: backend manager: raise correct errors and Init on Enable()

2009-05-07  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	oeventsd: action.py: restore python2.5-compatibility, thanks Paul Fertser for spotting

2009-05-06  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	Merge branch 'master' of git@git.freesmartphone.org:framework

	opimd: implement GetDomains()

2009-05-06  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	Revert "odeviced: fix idlenotifier" for now This reverts commit 516f48762ab7afa4e4702a0ba01bc0a004ae4c60 which -- for a reason yet unknown -- exposes FSO #416.

2009-05-05  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	oeventsd: fix regression introduced by cleanup

2009-05-05  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: implement GetBackends()

	opimd: again few useful methods - Enable, Disable, SetAsDefault

2009-05-05  Joachim Ott  <jo.shrdevel at googlemail.com>

	oeventsd: use subprocess.call to get rid of zombies (when using xset)

2009-05-05  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Handle the case where AT+CLIR? only returns OK
	o.f.GSM.Network.GetCallingIdentification now returns "unknown".

2009-05-05  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	oeventsd: use dbus cache and misc. cleanups

	patterns: add a dbus cache for object connections

2009-05-05  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: add some useful dbus methods regarding backends

2009-05-05  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	resource.py: get rid of callback factory and rewrite for improved clarity. This does NOT fix #416 though.

	loophole: deal with varying line endings

	inject controller object into loophole; from there we should be able to gather all interesting references

	patterns: add loophole object to prepare for post-mortem/live interactive debugging next step: hand out references to interesting objects to network interpreter

2009-05-04  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: SQLite_Contacts: implement adding new fields to contact on Update()

2009-05-02  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: SIM_Contacts_FSO: implement Update()

	opimd: SQLite_Contacts: implement Update()

	Revert "opimd: Contacts: ignore special _backend fields when merging"
	This reverts d1fa4df754461417dd2a26d134c03a1851d86f9d

	opimd: Contacts: get rid of unwanted print command

2009-05-01  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: Contacts: implement Update(); allow backends to use sync() after deleting or updating;        CVS_Contacts: use sync().

	opimd: don't init entries from backends disabled in config

	opimd: add Init() method to Source

	opimd: init all entries on startup

	opimd: Contacts: ignore special _backend fields when merging

	opimd: Contacts: return successful merge when trying to add contact, which already exists It should close "Don't duplicate contacts when calling InitAllEntries twice" ticket on my paper-trac :)

	opimd: SQLite_Contacts: fix backend properties to be more accurate ATM

	opimd: SIM_Contacts_FSO: implement deleting contacts and remove requesting/releasing GSM resource

	Merge branch 'master' of git@git.freesmartphone.org:framework

	opimd: CSV_Contacts: fix deleting

	opimd: Contacts: fix importing fields many times from the same backend

2009-05-01  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	[TI CALYPSO] document +CCLK oddity

2009-05-01  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: add some stub for updating contacts

	opimd: CSV_Contacts: support deleting and updating contacts

2009-05-01  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	resource: ran into the same logic error as last time. We can only check the resource status at the time the command is actually being performed.

2009-04-30  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	resource: do not enqueue suspend or resume commands, if a resource is disabled this should bring the resource handling back on track

	ogsmd: do not try to suspend or resume a modem that doesn't exist (read: has never been used before)

	resource: use SynchronizedAsyncWorker as worker queue

	asyncworker: add synchronized version of AsyncWorkerQueue

2009-04-30  Sebastian Krzyszkowiak  <dos@debian.example.com>

	opimd: fix possible ID conflict after deleting contact.

	opimd: SIM_Contacts_FSO: fix unicode handling

2009-04-29  Sebastian Krzyszkowiak  <dos@debian.example.com>

	opimd: SQLite_Contacts: set _backend_entry_id in add_entry too. Fixes problem with deleting new contacts.

2009-04-29  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: add support for deleting contacts in SQLite backend. Worked by Heinervdm too.

	opimd: add Delete() method in Contacts domain

2009-04-29  Jan Luebbe  <jluebbe@debian.org>

	otimed: handle the case where no network code is present correctly

2009-04-29  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: Implement org.freesmartphone.GSM.Device.GetRTC() -> (i)

2009-04-28  Jan Luebbe  <jluebbe@debian.org>

	resource: fix callback name

	asyncworker: catch and log exceptions thrown by the work units

2009-04-27  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: call stateAntennaOn, when the antenna is on. Fixes FSO #398

	docs: gnufiish proprietary commands

2009-04-27  Jan Luebbe  <jluebbe@debian.org>

	ogsmd [TI CALYPSO]: switch %CUNS back to 2 (no mixed solisticated/unsolisticated messages)
	%CUNS=0 exposed a bug in the %EM commands, which were losing some output lines.

2009-04-26  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: fix custom fields handling in SQLite-Contacts backend

	Revert "opimd: don't fail when default backend isn't specified. Use some, which supports specified domain." That isn't correct way to do this. This reverts commit a100a6b73023abb4ed385cf0e3615c1f303f6cc4.

2009-04-25  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: don't fail when default backend isn't specified. Use some, which supports specified domain.

2009-04-25  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ousaged: Serialize resources with an asynchronous worker queue. This should ease fixing FSO #404.

2009-04-25  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: convert sqlite backend from windows to unix format

	opimd: add sqlite contacts backend by Heinervdm and modify it to work

2009-04-23  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: secure sending the first line of multiline messages against errors. This should improve #332

2009-04-22  Cameron Frazier  <frazier.cameron@gmail.com>

	opreferences: add a signal for when a whole profile has been changed

2009-04-22  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [FREESCALE NEPTUNE] revert last change causing an endless loop in sending +EMGL=4

	docs: document +CFUN resetting +CLVL

	ogsmd: [TI CALYPSO] send +CLVL=255 after the antenna has been powered on, otherwise it gets reset. closes FSO

2009-04-22  Sascha Wessel  <wessel@nefkom.net>

	ogpsd: Fix race in ogpsd/ousaged when using Gypsy Start() method
	This addresses some of the issues listed in (FSO #251).

2009-04-22  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Use proper base class when calling responseFromChannel
	This fixes bug #390 and also fixes a potential problem in ListCalls.

2009-04-21  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: add note where to handle data calls in calling.py

2009-04-20  Jan Luebbe  <jluebbe@debian.org>

	otimed: bugfixes

	otimed: more work

	otimed: zone handing rewrite

2009-04-19  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: do not bail out if call mode is != VOICE

	ogsmd: [TI CALYPSO] report call mode (voice, data, ...) in org.freesmartphone.GSM.CallStatus

	odeviced: audio: introduce AlsaPlayer using aplay for wav playback. This should improve playback latency, if e.g. a .wav is selected as ringtone.

	patterns/processguard: introduce hadpid, so we have a handle to check for after a process ended

	frameworkd.conf: document ti_calypso_muxer entry

2009-04-19  Angus Ainslie  <nytowl@openmoko.org>

	otimed: apply patch from Angus to handle CTZV messages

2009-04-19  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	refactor killall into framework.patterns.utilities module

2009-04-18  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	odevice: audio: refactor audio player to support multiple player engines (covering disjunct formats)

	ogsmd: channel: add freeze() and thaw(), preparing for data call and pdp channel handover

2009-04-17  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	odeviced: fix USB Host mode with latest kernels. Patch by Paul Fertser. Signed-off-by: Paul Fertser <fercerpav at gmail.com>

2009-04-16  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	opimd: fix inconsistence with Messages and Contacts API Since now opimd Messages should work :)

	opimd: fix incorrect variable name

	opimd: remove unnecessary syslog line

2009-04-16  Daniel Willmann  <daniel@totalueberwachung.de>

	dtest: Add DBus interface and object caching

2009-04-15  Jan Luebbe  <jluebbe@debian.org>

	odeviced: fix idlenotifier

	idlenotifier: more debugging and error recovery in callback
	This should help us to solve FSO bug #333.

	setup.py: ship cell db

	otimed: make ntp server configurable

2009-04-14  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	* [ogsmd] Support handling setup and tethering of PDP connections on our own. * [ogsmd] [QUALCOMM MSM]: Handle setup the PDP connection.

2009-04-13  Daniel Willmann  <daniel@totalueberwachung.de>

	dtest: Make dbus test case actually work
	We need to import dbus...
	README now explains rough goals, usage, ...

	ogsmd, otimed: Catch up with API changes (operator code is string now)
	This commit follows the API change that happened in the specs repository
	in commit 7547d409977666eebb5117e4fc837ec6f19a4553.
	Warning, this might result in your apps breaking!
	Especially apps like cell monitors might be affected

	ogsmd: GSM default codec now raises UnicodeError on errors

	ogsmd: Fix typo in logger string

	ogsmd: Fix otimed GSMZoneSource
	Convert mcc and mnc in GSM.Data.GetNetworkInfo lookup to int. Fixes
	GSM time zone changes which got broken by commit
	edbba5e161133c28cc41c96afb8d9ea98c46d3e0

2009-04-13  Sebastian Krzyszkowiak  <seba.dos1@gmail.com>

	schema: change *-vibration and *-loop items type from int to bool

2009-04-13  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [TI CALYPSO]: set default speaker volume to maximum. Closes FSO #398

2009-04-13  Daniel Willmann  <daniel@totalueberwachung.de>

	dtest: Add more infrastructure for high level DBus testing

	ogsmd: Send out o.f.GSM.Network.Status after resume
	When we resume we now immediately query the network status and send a
	Signal. This fixes FSO #248.

2009-04-12  Daniel Willmann  <daniel@totalueberwachung.de>

	Add preliminary dtest infrastructurAdd preliminary dtest infrastructure

	ogsmd: Fix logic to show the correct operator name
	This fixes a logic error in finding out the best operator name. Before
	the result from the SIM query would always be overwritten with the
	result from the network.tab.
	Fixes a problem that was also exposed in FSO #375.

2009-04-09  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: abstract: fix copy'n'paste bug in DeviceGetSpeakerVolume()

2009-04-09  Jan Luebbe  <jluebbe@debian.org>

	update network data

	ogsmd/networkdb: each network must have an MNC

	persist: having no persist data for a subsystem is not an error

2009-04-09  Daniel Willmann  <daniel@totalueberwachung.de>

	odeviced: Fix time and format problems in the RTC interface
	This fixes FSO bug #374 and brings the RTC interface in line with the
	spec. Also fixes the time offset some people (probably everyone not in
	UTC) experienced between calls of SetWakeupTime and GetWakeupTime.
	See http://docs.python.org/library/time.html for the different
	conversions "seconds since the epoch" <-> "{local,UTC} time".

2009-04-08  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Convert MCC and MNC to int when comparing
	This fixes http://trac.freesmartphone.org/ticket/375

2009-04-04  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Acknowledge status report messages right away
	Status reports need to be acknowledged with AT+CNMA=1, but we want to do
	that every time. There's nothing to be gained from deferring this to the
	DBus client.

2009-04-01  Jan Luebbe  <jluebbe@debian.org>

	add make_cell_db.py and rebuild cell db

	add cell database

	ogsmd: add support for cell location

2009-03-30  Jan Luebbe  <jluebbe@debian.org>

	tests/sms: test encoding performace

	ogsmd/convert: rewrite 7-bit handling for performance
	Inspired by libgsmd_sms.c

2009-03-28  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	docs: document TI Calypso SAT commands

	docs: document some more qualcomm commands, remove some standard ones

	ogsmd: [QUALCOMM MSM] parser.py: ERROR and OK are always formatted o.k.

	ogsmd: fix DeviceGetInfo prefixes to allow free format. It now works on modems that skip the prefixes for these commands.

	ogsmd: [QUALCOMM MSM] Add 'QualcommGsmViolationParser' that covers up Qualcomm's v250.ter AT format violations.

	ogsmd: parser.py: remove ThrowStuffAwayParser which is no longer necessary with the new parser

	ogsmd: parser.py: remove AlwaysUnsolicitedParser which is no longer necessary with the new parser

2009-03-26  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	docs: add 'commands' and 'urcs' describing proprietary commands/URCs

	ogsmd: [QUALCOMM MSM] parse HTC proprietary signal strength quality URC

	oeventsd: Refactor RingToneAction and MessageToneAction into a common UserAlertAction. Add enabling/disabling the vibrator for both as per 'ring-vibration' respectively 'message-vibration' attribute in the profile.

	odeviced: kernel26: implement org.freesmartphone.Device.LED.BlinkSeconds( i, i, i ) -> ()

	opreferencesd: add schema entries for ring-vibration and message-vibration

2009-03-25  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [FREESCALE NEPTUNE] fix call handling to report outgoing calls properly misc other fixes

2009-03-25  Jan Luebbe  <jluebbe@debian.org>

	opreferencesd: enforce types in SetValue

	ophoned: use prefrences to configure the headset

2009-03-21  Paul Fertser  <fercerpav@gmail.com>

	ophoned: Retain compatibility with Python 2.5

2009-03-20  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: Do not assume a range of 0-255 for +CLVL, rather query the modem first. If the respective query is not supported, _then_ assume 0-255. [QUALCOMM MSM] uses a range of 0-5.

	ogsmd: fix prefixmap for several free-format commands (spotted on HTC Touch Pro)

2009-03-19  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [QUALCOMM MSM] document more quirks

	ogsmd: start documenting Qualcomm MSM modem quirks

2009-03-19  Jan Luebbe  <jluebbe@debian.org>

	oeventsd: change BTHeadsetConnectedIs(state) to BTHeadsetIsConnected()

	oeventsd: we need enabled/disable from Rule (not from Filter)

	oeventsd: fix logging

	oeventsd/fso_triggers: use a more specific logger

	oeventsd: forward enabled/disable to subfilters

	oeventsd: add support for the bluetooth headset

	odeviced: work around ASoC DAPM problem by flipping "Capture Left Mixer"

	ophoned: more work, improve logging

	ophoned: more fixes

	ophoned/gsm: fix status/state confusion

	ophoned: more work

	ophoned/headset: more work

	ophoned/headset: continue implementing

	ophoned: add headset manager

	helpers: add some simple helper functions

	cli-framework: add phone interface

2009-03-19  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	docs: document more neptune quirks

	ChangeLog: unify my email address update ogsmd/lessons file

	ogsmd: [FREESCALE NEPTUNE] add 'fixed' dialling phonebook. Thanks Alain for spotting.

	ogsmd: add fixed dialling (FD) phonebook to possible phonebooks

	ogsmd: Implement org.freesmartphone.GSM.Device.GetPowerStatus() for modems that support this call (e.g. FREESCALE NEPTUNE) to get the power status. Note that sysfs power supply classes are preferred though...

2009-03-18  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [FREESCALE NEPTUNE] response to +COPS? can be corrupt, take this into account

	ogsmd: [FREESCALE NEPTUNE] use more multiplexing channels to catch all unsolicited responses

2009-03-15  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: Fix debug commands with new parser

2009-03-13  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [FREESCALE NEPTUNE] fix bunch of problems * catch up with unsolicited response parsing * catch up with timeout changes * change channel mapping to accomodate for +CMT on /dev/mux2 * fix incoming SMS parsing (needs a slightly different PDU format) * fix roaming indication * remove ThrowAway parser

	ogsmd: strip " from response for +CPIN? (which some modems include in their reponse)

	ogsmd: fix timeout reporting

2009-03-09  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Make sure we keep valid prefixes over continuation lines
	This is important when submitting commands with PDU.
	After receiving the "\r\n> " continuation the parser would reset the
	valid prefixes so in case of
	AT+CMGW=23
	> <PDU>
	+CMGW=1
	OK
	the +CMGW=1 would be considered unsolicited.
	This fixes FSO #372.

2009-03-06  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: split DeviceGetFeatures() into individual commands, since not all are always supported

	ogsmd: DeviceGetInfo: According to GSM 07.07, it's legal to not answer quoting the prefixes for these four informational requests, hence we allow all prefixes. NOTE: Yes, this opens a slight possibility of unsolicited creeping unnoticed into. To fix this properly, we would need to enhance the prefixmap to also specify something like: [ "+CGMR", "+CGMM", "+CGMI", "+CGSN", "plaintext" ], with "plaintext" being everything else that does _not_ look like a response.

	ogsmd: [CINTERION MC75] add power control and request paths from fso-abyss NOTE: On mc75, we always use fso-abyss. There's no configuration option.

	ogsmd: [TI CALYPSO] fix power control (only significant when using fso-abyss, otherwise gsm0710muxd will handle that)

	config: dump milliseconds also to find out where our time gets spent

2009-03-06  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Decode userdata even if we encounter errors
	This will retry to decode UCS-2 userdata with the replace policy if
	decoding with strict didn't work. The errors property will still have
	"Userdata corrupt" set, but the userdata will actually contain whatever
	we were able to decode. Problematic characters are replaced by the
	unicode replace character (\ufffd). Fixes FSO #291.

2009-03-06  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: query our network database if the provider's name is not known. This can happen for new providers and old modems (guess what... :). Fixes FSO #355 and OM #2241. Fixed also some bugs in querying the network database introduced by the last format revamp.

2009-03-06  Alain2210  <alain2210@free.fr>

	ogsmd: [FREESCALE NEPTUNE] add customized versions of DeviceSetAntennaPower and SimGetAuthStatus to cope with the modem's GSM 07.07 violations.

2009-03-06  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: port +CNMA to the new timeout handling (basically the per-command timeout no longer exists)

	ogsmd: fix SMS sending with new parser. Thanks Daniel for spotting!

	ogsmd: override autoprefix for +CUSD, which is kinda special

2009-03-05  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: parser.py: flag +CGMR as solicited message that has a PDU. Closes FSO #369, which was actually a valid bug.

2009-03-04  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: channel.py: cache autogenerated prefixes since re.findall is an expensive call

	otimed: fix wrong interface path in alarm.py. Patch by lupan, thanks!

	ogsmd: teach parse about 'PDU' special prefix that does accept everything that starts with {0123456789ABCDEF}

	ogsmd: use more strict RE for AUTOPREFIX matching

	ogsmd: [TI CALYPSO] the AlwaysUnsolicitedParser is no longer necessary now that the StateBasedLowLevelParser is good enough.

	ogsmd: support allowing all prefixes for commands -- this is necessary for the few commands that do not need to answer with the prefix, e.g. +CIMI is allowed to answer directly with the SIM's IMSI

	ogsmd: fix new parser for solicited messages with PDUs (+CMGL, what else?)

	ogsmd: improve AUTOPREFIX handling. We can compute them for combined AT commands now as well (AT+FOO;+BAR;...)

	ogsmd: [TI CALYPSO] send %CUNS=0 on startup. It now sends unsolicited responses directly once they're generated, which leads to potentially lots of mixed solicited/unsolicited responses. This should be a nice test-case for our new handling.

	ogsmd: Rewritten timeout handling and unsolicited message handling. We now maintain a list of valid prefixes for every command in the Queue. Once the parser processes a complete line, it checks whether this line contains expected results. With this, it's safe to operate modems that mix unsolicited and solicited responses. It's also a safeguard against race conditions when talking to the modem over buffered lines. NOTE: Experimental and uncomplete, needs testing. Right now, we compute the list of valid prefixes automatically. For some commands, this is not sufficient (standard violations or mixed combined commands), so we need to give an explicit prefixlist.

	ogsmd: remove per-command timeouts

	ogsmd: don't deactivate a pdp object that is not yet existing

	ogsmd: start revamping timeout handling; also use gio priorities to enforce reading before writing

2009-03-03  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Introduce types guess-submit and guess-deliver
	These will first try to decode the message as sms-submit/-deliver
	message and if that fails they will try to decode as
	sms-deliver/-status-report. This helps when you encounter SIMs on which
	sms-deliver-reports have been stored.

	ogsmd: raise an error on incorrect MTI fields
	We can't really recover from this error since the MTI defines the rest
	of the message format.

	ogsmd: Add "message-class" property to SMS classes

2009-03-02  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Add org.freesmartphone.SMS.{Ack,Nack}Message()
	These are used to give positive/negative acknoledgements about an
	IncomingMessage. If an IncomingMessage is not Acked in a given time it
	will be sent to SIM storage.

	ogsmd: Change signature of org.fs.Sms.IncomingMessageReceipt
	Since an sms-status-report can have userdata this signal now has the
	same format as IncomingMessage. No API breakage since this feature
	wasn't really part of the API until now.

	tests: Add test cases for sms-submit-report and sms-status-report
	Additionally, rename the PDUs to clarify their content.

	ogsmd: Remove cruft from sms-submit-report, add sms-status-report

	ogsmd: Add support for RP-ERROR and RP-ACK in sms-submit-reports
	This is controlled by a boolean variable at creation.
	SMSSubmitReport(True) generates a submit-report for RP-ACK and
	SMSSubmitReport(False) generates a submit-report for RP-ERROR

	ogsmd: Add support for sms-submit-report
	Switch key and value of TP_FCS so we ease the common lookup

2009-03-01  Tim Niemeyer  <tim.niemeyer@mastersword.de>

	ogpsd: Fix 2D/3D fix reporting in NMEA

2009-03-01  Jan Luebbe  <jluebbe@debian.org>

	ogpsd: reenable ephemeris and reorder aiding upload according to docs

	ogpsd: fix typo which mangled the ephemeris data somewhat

2009-03-01  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Add SMS properties getting and setting
	This more or less completes the different property keys

2009-03-01  Jan Luebbe  <jluebbe@debian.org>

	ogpsd: handle unknown position and valid almanac correctly (closes: #265)
	We were sending (X=0, Y=0, Z=0) as the current ECEF position.

2009-02-28  Jan Luebbe  <jluebbe@debian.org>

	otimed: the hardware clock is in utc by default

2009-02-28  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Add stubs for remaining sms classes

	ogsmd: Change naming of sms address
	Follow name changes in modems/abstract/mediator.py and
	modems/abstract/unsolicited.py so sending and receiving messages will
	work again with the new stack. Use the new class names directly.

	tests: Add a test to measure the time decoding an sms-deliver message
	Also fix the SMS generation test

	tests: Add more testcases for sms property defaults

	ogsmd: Factor out the different message types in individual classes
	With individual parse and pdu methods for each message type it's now
	a lot easier to follow the construction of a message.

	tests: Make the SMS tests fine granular

	ogsmd: Do not request message delivery reports by default
	This will be a per-message option

2009-02-28  Paul Fertser  <fercerpav@gmail.com>

	Preliminary support for SMS message delivery reports
	I couldn't find enough reliable information for that type of PDU,
	therefore support is incomplete for now.

2009-02-28  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	odeviced: idlenotifier: take timeouts from defaults, if not existing in config This fixes restarting the dimming on releasing the 'Display' resource, if no custom timeout for idle_dim is set in the configuration.

2009-02-26  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	introduce new way for a subsystem to scan for plugins the default is to scan the filesystem, looking at each and every file. we now provide a way to use the configuration file, so every plugin needs to be mentioned as a (if necessary, empty) section. the example configuration has been adjusted.

	ousaged: bring back ResourceInUse exception

2009-02-24  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Follow renaming of properties attribute in SMS
	Fixes bugs 359 and 358 which are duplicates.

2009-02-21  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	tools: add cell broadcast to cli-framework

	ogsmd: [CINTERON MC75] catch up with changes in ogsmd

	oeventsd: use QueuedDBusAction only for triggers that really need it; RingTone for now

2009-02-19  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [TI CALYPSO] use fso-abyss

	ogsmd: [CINTERION MC75] remove low level initialization; not necessary with good muxers ;)

	otapi: CbGetCellBroadcastSubscriptions: remove shadowing the error module

	ogsmd: fix ListProviders for systems that do not return the access technology. Closes FSO #329

2009-02-18  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [TI CALYPSO] fso-abyss features autoconfiguration now, take this into account.

	odeviced: fix bug in Display resource preventing the display to be lit when you request the resource while it's already past the state it's trying to prevent falling into. This should fix FSO bugs #336, #343, and #352.

2009-02-16  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	start documenting cinterion specifics

	oeventsd: add org.freesmartphone.Events.ReloadRules()

2009-02-16  Timo Juhani Lindfors  <timo.lindfors@iki.fi>

	apply workaround for http://bugzilla.gnome.org/show_bug.cgi?id=571890 that causes frameworkd to print ppp error: "TypeError: 'NoneType' object is not callable\n" every time a GPRS connection is started.

2009-02-13  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Fix binary SMS with null bytes
	Since binary SMS are very likely to contain null bytes we use a
	bytearray in the properties to convey the data. This still doesn't fix
	the problem if we receive UCS2 messages which include null bytes (which
	is possible, but less likely). Fixes FSO #345.

	ogsmd: Fix FSO bug #218 (@ instead of padding)

2009-02-13  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	tools: add dump-netlink

	ogsmd: helpers: secure killall against races

2009-02-12  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	odeviced: fix UsbHost mode sysfs path regression

	ogsmd: add timeout for COPN (NOTE: timeouts will soon be deprecated in favour of a global timeout...)

	ogsmd: Implement org.freesmartphone.GSM.SIM.GetProviderList() -> a{is}

	ogsmd: [TI CALYPSO] use AlwaysUnsolicitedParser on all channels. Closes FSO #334

	ogsmd: parser: add AlwaysUnsolicitedParser, a low level parser that treats certain responses always as unsolicited (based on prefix matching); useful for modems which do not support deferring unsolicited responses between sending a query and returning the (solicited) response -- such as the TI Calypso with regards to +CRING, +CLIP, and %CPI.

	odeviced: Fix oscillating power LED. On some devices, peripherals are connected directly to the battery, which means they can _not_ drag power from USB. Hence, the battery needs to be recharged frequently, even while it is full. To cover up for this, we do not send the 'charging' signal if the last status was full.

	start document for 'lessons learned' to guide us for version 2.x

	ogsmd: [TI CALYPSO] remove bogus argument in data patch factory, thanks max_posedon and Paul Fertser! Closes FSO #354

	ogsmd: wrap os.kill in try/except as the process might have vanished on its own in the meantime.

2009-02-08  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: send plain AT as first command on channel init

	docs: document TI Calypso muxer quirks

2009-02-06  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [TI CALYPSO] Add support for the next-generation 07.10 multiplexer from FSO. Set 'ti_calypso_muxer' to 'fso-abyss'. Default value is gsm0710muxd for the time being.

2009-02-06  Guillaume Chereau  <charlie@openmoko.org>

	tests: add tests from storing messages into the SIM

2009-02-04  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	fix typo in processguard. thanks lindi

	mention ms5

	tools: cli-framework: add omuxerd

	oeventsd: fso-actions: don't break if preferences daemon doesn't run

	odeviced: kernel26: do not send capacity changes for AC adapters

2009-02-03  Jan Luebbe  <jluebbe@debian.org>

	otimed: don't fail when requesting a timestamp

2009-02-02  Joachim Breitner  <mail@joachim-breitner.de>

	typo in shebang line: /user/bin/env

2009-01-30  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	odeviced: move checking for pyrtc below creating the logger. thanks beniwtv!

	otimed: fix traceback on bad GPS time; thanks beniwtv for spotting!

2009-01-30  Jan Luebbe  <jluebbe@debian.org>

	otimed: Add config options for time and zone sources.

2009-01-29  Jan Luebbe  <jluebbe@debian.org>

	cli-framework: complete the integer types

	odeviced: remove org.freesmartphone.Device.RealTimeClock.Suspend

2009-01-29  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	odeviced: fix bug in realtimeclock. closes FSO #330

	tools: add devrtc to cli-framework

	add null object

	oeventsd: RingToneAction: listen for audio profile changes. Closes FSO #325

2009-01-29  Jan Luebbe  <jluebbe@debian.org>

	cli-framework: handle more dbus types

	ogpsd: repair ogpsd for GTA01

2009-01-28  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	opimd: raise proper dbus errors, remove some redundancy (more to come), styling fixes

	add fso team as test data

2009-01-28  Timo Juhani Lindfors  <timo.lindfors@iki.fi>

	config: do not send timestamps to syslog since syslog already adds time
	This patch makes frameworkd not log timestamps when it is
	logging to syslog. Syslog already adds timestamps so extra timestamp
	is just making the log lines longer for no good reason.

2009-01-28  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	tools: add some opimd objects to cli-framework

	opimd: move csv-contacts to where it belongs. adjust setup.py accordingly to install it.

	opimd: fix object paths appearing. This has been broken since http://git.freesmartphone.org/?p=framework.git;a=commit;h=8551825260f31baea9b8b3900d92e4e98d4c6a17

	track busmap in config for simple access to the proper bus connection from each and every module

2009-01-27  Jan Luebbe  <jluebbe@debian.org>

	ogsmd: [TI CALYPSO] don't convert RXLEV to percentages (closes: #323)

2009-01-27  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	otimed: alarm trigger is now calling org.freesmartphone.Notification.Alarm() on the root object

	opimd: do not mess with system bus registration, the controller is doing that for you

2009-01-27  Jan Luebbe  <jluebbe@debian.org>

	ogpsd: reenable workaround for the kernel that will be release with MS5

2009-01-27  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogpsd: Check in all resource functions if a channel is None and warn
	Under certain circumstances, i.e. with testdevices we don't have a
	channel. Also remove stray shutdownChannel from commit
	0be860bbc94f497a877555fbb4c9c95107634ef3

2009-01-27  Jan Luebbe  <jluebbe@debian.org>

	ousaged: add some more debug messages

	oeventsd: support setting environment variables for the Command action (closes: #242)
	Thanks to Peter Strapp for the idea and a patch.

2009-01-24  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	kobject.py: kobject notifications might as well be longer than 512 bytes. Read larger buffer. Spotted by beniwtv, thanks a bunch!

	resource: add resource.checkedsignal decorator. In contrast to resource.queuedsignal, this will throw a signal away, if the corresponding resource is not enabled. Feel free to change signals with short validity periods from queuedsignal to checkedsignal.

	rename checkedsignal to queuedsignal

2009-01-23  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	odeviced: powercontrol_neo: use bind/unbind way of controlling ar6k power to get the maximum power saving. This obsoletes wireless.pyx and -- at this point of time -- we no longer require Cython.

2009-01-23  Jan Luebbe  <jluebbe@debian.org>

	ogpsd: handle old and new power control paths

2009-01-21  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	resource: fix error in delayed sending signals

	cli-framework: learn how to convert doubles

	cli-framework: set busname also for interfaces. Thanks beniwtv for spotting

	tools: submit correct busname in ListObjectsByInterface to dbus-hlid

	ogsmd: [TI CALYPSO] txlev is not a signal strength, but a power level indicator

	ogsmd: [TI CALYPSO] convert signal strenghts to percentage in org.freesmartphone.GSM.Monitor.Get{Serving|Neighbour}CellInformation rename cell_type_ind to ctype

	ogsmd: channel: remove unicode warning; it's quite normal we get unicode via dbus

	otimed: fix NameError; Jan, please review!

	resource: fix typo

	ogspd: Wrap dbus signals with resource.checkedsignal

	ogsmd: Wrap dbus signals with resource.checkedsignal decorator

	resource: Added a 'checkedsignal' decorator that will enqueue a signal when the resource is not 'enabled'. Signals will get sent after the resource has reached the 'enabled' status.

	Resource: Fixed bug in checkedmethod and checkedsyncmethod decorators. Previously we only got org.freesmartphone.Resource.NotEnabled when the status was unequal 'disabled'. This is wrong, since we also can't use a resource during the state transitions, i.e. 'enabling', 'disabling', 'suspending', and 'resuming'. This should fix some race conditions, or at least, make it more clear why you can't access the device.

2009-01-20  Jan Luebbe  <jluebbe@debian.org>

	cli-framework: add support for bluez 4.x

	otimed: set the system time directly (closes: #318)

	otimed: add otimed to dbus config

2009-01-19  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [TI CALYPSO] bypass serial abstraction while reading/writing; use faster posix read/write.

	ogsmd: channel: refactor actual reading and writing from/to the source into seperate method (to be able to override in descendents)

2009-01-17  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogspd: according to Werner Almesberger, you need to turn on gpsd in order to turn it off *sigh*

	ogpsd: fix disabling the device when it was never enabled before. Daniel, please review this!

2009-01-16  Guillaume Chereau  <charlie@openmoko.org>

	tests/sim: wait for ReadyStatus signal when a SIMBusy error is raised
	Otherwise the test was failing every time the SIM was not ready at startup.

	The solution here assumes that after we receive a ReadyStatus, then we can't get
	an other SIMBusy error for the next call.

2009-01-16  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	patterns/tasklet: use timeout_add_seconds to save energy

2009-01-16  Guillaume Chereau  <charlie@openmoko.org>

	patterns/tasklet: fix bug in WaitDBus w/ timeouts

2009-01-16  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogspd: another bogus indent

	opgsd: fix bogus indention

	ogpsd: don't try to shutdown a channel that doesn't exist

	odeviced: add missing variable in constructor

2009-01-15  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: const: add GSM number types seen "in the field"

	resource: on shutdown leave resources alone, if requested

	ousaged: Add config option 'sync_resources_with_lifecycle' for specifying whether all Resources should be disabled on "startup", "shutdown", "always" (default), or "never".

	resource: status at default is "unknown"

	oeventsd: Serialize dbus requests with a Queue. This (and removing a race in the RingToneAction) should fix the problems with neverending vibration and audio ringtone on short calls (FSO ticket #205)

	tasklet: what do we do if the generator vanishes?

	oeventsd: add QueuedDBusAction and use it for all dbus methods triggered by actions

	oeventsd: substitute super calls with the classic method of calling parent constructors super is considered harmful, at least in the present implementation. DO NOT USE IT, especially not not with multiple inheritance. Trust me, it's broken!

	ogsmd: add auto-online mode for pdp connections

2009-01-14  Jan Luebbe  <jluebbe@debian.org>

	ogpsd: add support for debugging via UDP

2009-01-14  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ousaged: fix resource policy 'enabled'. Had been broken since months, but apparantly no one notice :)

	ousaged: move errors to appropriate modules.

2009-01-12  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Make RegisterWithProvider charset aware

	ogsmd: Safeguard if modem replies to +CGM{L,R} with unsolicited messages
	This will prevent Tracebacks like in
	http://trac.freesmartphone.org/ticket/314, but the underlying actual
	problem should still be fixed.

	tests: Add a test case for invalid Service Center timestamp parsing

	ogsmd: [SMS] Don't fail when service center timestamps are invalid
	If parsing the scts field fails the date is substituted for a dummy
	value and the error property is marked accordingly.

	ogsmd: [SMS] Add an error property.
	The goal is that SMS parsing will not result in any Exceptions, but
	instead the error property will indicate if parsing a short message
	failed for some reason.

	ogsmd: Fixed getting of alphabet property.
	The previous commit broke all SMS functionality, this fixes the issue. A
	test case is now included that will recognize this failure.

	ogsmd: Add new properties to SMS messages
	This adds support for setting and getting alphabet (encoding) and PID
	over sms.properties

2009-01-10  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [TI CALYPSO] fix bogus GSM wakeups introduced by f734551d42315bac6bc63aa5c5e2d793f16245ea

	ogsmd: channel.py: remove potential races * create answer timeout always (even if no one is listening) * feed value of response watch to parser (which should be more accurate than the whether there is something in the queue or not)

	ogsmd: [TI CALYPSO] honor +CRING, if -- for some reason -- we didn't get %CPI before.

2009-01-10  Jan Luebbe  <jluebbe@debian.org>

	odeviced: readd fcntl import which got lost during the conversion to KObjectDispatcher

	ogpsd: use framework.config like ogsmd.device

2009-01-09  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [TI CALYPSO]: only reinit UnsolicitedCommand channel. Kill reenabling timer if we're suspending before the timer hits.

	ogsmd: [TI CALYPSO] resend the DSP command on every call setup. NOTE: I'm not convinced and there is no evidence that this is necessary, but I'm sick of discussing this over and over again, hence it goes in. This closes #253 for good.

	odeviced: powercontrol_neo: use wmiconfig to enable/disable wlan0

	add org.freesmartphone.Framework.GetVersion()

2009-01-08  Julien 'Ainulindale' Cassignol  <ainulindale@gmail.com>

	Corrected a trailing \n causing problems with the writing of the contacts backend.

2009-01-08  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: gather context status from pdp object, not from network this makes it inline with the signal and the actual logical state closing #289, as all parts should be in place now.

2009-01-07  Paul Fertser  <fercerpav@gmail.com>

	Add information about Calypso's flow control handling
	It was discovered that Calypso doesn't respond to the flow control as it
	should, i.e. it doesn't stop output immediately and instead transfers the
	rest of the message, which may lead to UART buffer overflows. See mwester's
	description at http://docs.openmoko.org/trac/ticket/1376 .

2009-01-07  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: move dbus error module one level up

	ogsmd: Implemented org.freesmartphone.GSM.Monitoring.* as stub erroring out with org.freesmartphone.GSM.UnsupportedCommand. ogsmd: [TI CALPYSO] Implemented the new monitoring API: org.freesmartphone.GSM.Monitoring.Get{Serving|Neighbour}CellInformation

	ogsmd: add stubs for monitoring API org.freesmartphone.GSM.Monitor.Get{Serving|Neighbour}CellInformation

2009-01-06  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	We now register one dbus connection per subsystem to prevent objects appearing on all bus names. If you previously only used the bus name 'org.freesmartphone.frameworkd', you have to adjust your code.

2009-01-06  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Move SMS tests into its own unittest under tests/

2009-01-06  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	odeviced|ousaged: use repr() in helper output

	odeviced: input/idlenotifier: don't use config from controller, use singleton

2009-01-03  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: pdp: subprocess handling is now using the common ProcessGuard

	odeviced: kernel26: fix parameters in KObjectDispatcher callback

	odeviced: kernel26: Use common KObjectDispatcher

	Add the new module kobject patterns that wraps uevent and rtnetlink notifications. This will be used to substitute route some polling in pdp and other modules. NOTE: To assist netlink parsing, we include the cxutil and cxnet packages from python-connexion in the framework. For more details, see http://www.radlinux.org/connexion/wiki Add cxnet and cxutil as per 0.4.6 SVN rev 1681

2009-01-02  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	odeviced: kernel26: remove deprecated API in PowerSupply, add some new calls

	cli-framework: use dbus-hlid

	oeventsd: Add an OccupyResource action plus some corresponding rules. NOTE: See rules file for one testing rule which is still outcommented.

	framework: objectquery: remove ListObjects from interface, this will now be handled by the new dbus-hlid project.

	otimed: use lazy dbus object binding, so that ogsmd has not to be present at subsystem launch time

	otimed: alarm: use "hardcoded" path to default real time clock also: do not introspect and follow name owner changes, so that odeviced has not to be present at subsystem launch time

	odeviced: register real time clock also under incremental object path

2008-12-31  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	cli-framework: convert dbus.Int64

2008-12-30  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	kobject: parse a bit more of netlink

	move services.py and netlink.py to patterns directory

	persist: Use cPickle instead of Python-based implementation

	odeviced: Register objects under /org/freesmartphone/Device/Display/ also with an numerical incremental alias -- e.g. the first display can now also be accessed via /org/freesmartphone/Device/Display/0. rules: Adjust the default backlight brightness rule to use display "0". NOTE: This should be the last missing step to support Openmoko kernel versions 2.6.24 and also >= 2.6.27 for GTA01 and GTA02.

2008-12-29  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	First step towards integrating Vala/C subsystems with frameworkd: Support external subsystems. If you add a section with an 'external' attribute, then the section will be treated as an external subsystem to launch with the path given as attribute: [mysubsystem] external=/foo/bar TODO: Add 'relaunch' attribute. NOTE: You can also "override" internal subsystems by giving the 'external' attribute.

2008-12-28  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	add generic process guard class

2008-12-27  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [TI CALYPSO] Add TI-Calypso specific configuration option "ti_calypso_dsp_mode" to configure DSP audio enhancements. Documentation for this option has been added to the sample configuration file. (Some lowlevel details can be found in framework/subsystems/ogsmd/modems/ti_calypso/channel.py) This closes FSO ticket #274 and #253.

	ogmsd: Refactor Modem.dataOptions() into "pppd-configuration" attribute in modem data storage.

2008-12-25  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	add netlink constants

2008-12-25  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Fix "NameError: global name 'currentModem' is not defined"
	NetworkStatus signals should work again

2008-12-24  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Add charset support to more methods and signals
	PdpGetNetworkStatus and NetworksStatus signals

	ogsmd: Catch up with latest act spec changes (make AcT mandatory)

	Update ChangeLog

	ogsmd: Charsets are now per modem
	Some modems encode *all* strings in ucs2 if you change the charset. This
	allows us to specify the different charsets used for different commands.
	All commands sending or receiving strings as parameters now need to
	encode and decode these strings with the corresponding charset.

	ogsmd: Make ucs2hexToUnicode into a codec (gsm_ucs2)

	ogsmd: Add support for AcT and remove duplicate plusCREG
	Modems that support more than just GPRS will have an additional number
	identifying the network access type in +COPS, +CREG and +CGREG.

2008-12-22  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: [ERICSSON] Use enable_wwan node found in thinkpad devices

	ogsmd: Fail gracefully if the serial device doesn't exist yet
	Thinkpad WWAN cards can be enabled through a /sys file. It takes some
	time from enabling the device to the device nodes actually appearing.
	This makes the VirtualChannel fail gracefully when the device does not
	exist so it will retry. Also increased the channel open retries from 5
	to 7.

2008-12-21  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	whitespace

2008-12-21  Daniel Willmann  <daniel@totalueberwachung.de>

	frameworkd.conf: Document ogpsd options more

2008-12-20  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [QUALCOMM MSM] new modem abstraction based on singleline

	freescale neptune: more quirks

	document some more freescale neptune quirks

	ogsmd: [FREESCALE NEPTUNE] send the magic SIM initialization commands, so that the GSM 07.07 commands for reading the SMS message book work ootb. Override one channel's modemStateSimUnlocked() as well to send the mandatory org.freesmartphone.GSM.SIM.ReadyStatus( True ) on time.

	ogsmd: [ABSTRACT] strip " in response to +CPIN since some modems return this as a string

	ogsmd: [FREESCALE NEPTUNE] override numberToPhonebookTuple Storing international numbers works on this modem now.

	ogsmd: move numberToPhonebookTuple from gsm.const into modems.abstract.modem We need to be able to override it per-modem (Freescale Neptune *cough*)

2008-12-19  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	add preliminary netlink message dispatcher

	ogsmd: [TI CALYPSO] disable %CGEV unsolicited response codes

2008-12-19  Jan Luebbe  <jluebbe@debian.org>

	otimed: allow time travel to the past

2008-12-19  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ousaged: Check resume reason and launch emergency shutdown, if we woke up due to low battery. NOTE: This is only supported on Openmoko devices now. As there is no standard infrastructure for that in the kernel, we have to deal with device-specific solutions in lowlevel.py

	ousaged: check if we woke up due to battery low; trigger emergency shutdown if so

	freescale neptune: add new quirk in handling number types

2008-12-19  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Add support for sms-submit-reports and return timestamps
	When sending an SMS an sms-submit-report is returned which includes a
	timestamp. This is the time when the Short Message Service Center
	received the short message.
	The DBus calls for sending SMS now also return a timestamp in string
	format (WARNING, API breakage!)

2008-12-19  Jan Luebbe  <jluebbe@debian.org>

	otimed: use network database to install a time zone file

2008-12-18  Jan Luebbe  <jluebbe@debian.org>

	ogsmd: reformat mobile_network_code into networks.tab
	This adds a new DBus interface "org.freesmartphone.GSM.Data" on the server
	object, which can be used to query the network database.

	otimed: accept only valid time from ogpsd

2008-12-18  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Add support for different SMS message types
	This patch also (hopefully!) fixes the SMS PDU breakage that has been
	around in master for some time.
	SMS types are now sms-{deliver,submit} and sms-{deliver,submit}-report

2008-12-18  Stefan Schmidt  <stefan@datenfreihafen.org>

	ogpsd: Add EtenDevice for the glofiish devices.
	This patch also introduces a baudrate config option in ogpsd.serialchannel.

2008-12-18  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: pdp: make singleton handling more consistent with CallHandler

	ogsmd: pdp: do not use ATZ in connect script, do not query for CPIN

	ogsmd: [ABSTRACT] start handling +CGEV (neccessary to detect gprs connection teardown)

	ogsmd: [TI CALYPSO] remove %CGREG unsolicited code, we're not using it

	ousaged: gathering resume reason now works for Openmoko devices

	do not error out, if /etc directory can't be found

2008-12-17  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ousaged: add lowlevel resume reason helpers

2008-12-17  Jan Luebbe  <jluebbe@debian.org>

	otimed: fix blocking otimed without connectivity

2008-12-17  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [TI CALYPSO] use kernel-version agnostic sysfs path

	odeviced: kernel26: Don't dump exception if we can't register to the netlink object (multiple times) It might have been successful the first time. This code will be changed soon anyways, we're going to introduce a kobject multiplexer in the framework services.

	odeviced: accelerometer: use sysfs path agnostic to kernel version

	ogpsd: om: use kernel-agnostic sysfs node path

	odeviced: powercontrol_neo: use kernel-agnostic sysfs path remove super() calls and limit scanning to the one directory where we expect the device nodes

2008-12-17  Jan Luebbe  <jluebbe@debian.org>

	otimed: add simple timesync to NTP and GPS

2008-12-16  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: First working ericsson F3507g modem driver
	SIM access is working, PDP fails at the moment because the connect
	script sends an ATZ which the F3507g responds to with ERROR.
	It seems that changing CSCS has an effect on *all* strings, even CSCS
	itself and COPS. This will need to be worked around later.

	Merge commit 'origin/stefan-F3507g'

2008-12-16  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	oeventsd: spawn processes asynchronous in CommandAction. Closes FSO #235

	odeviced: audio: try harder to escape spaces in filenames

2008-12-15  Sascha Wessel  <wessel@nefkom.net>

	ogpsd: UBXDevice::parse: improve handling of corrupted ubx packets

2008-12-15  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Remove stray "if s:" in state_inline_multipleR
	Commit 93d20c6f52f77644cc47da698e5802b63927693c didn't remove all
	occurences of s (which is now handled in self.lineCompleted by checking
	self.haveCommand.

2008-12-15  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	odeviced: audio: encode filename in " to fix FSO bug #297.

2008-12-12  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	tools: add gsmphone to cli-framework

	ogsmd: Implemented org.freesmartphone.GSM.Phone.[Start|Stop]AutoRegister() and its signal org.freesmartphone.GSM.Phone.ServiceStatus() This is a convenient way to ensure that ogsmd always tries to unlock the SIM and register with a provider, if necessary. (Corresponding functionality for Gprs is under discussion).

2008-12-11  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [TI CALYPSO] Apply reinit commands with a delay after resuming. This should give us a chance for draining the incoming buffers and lead to a faster and more reliable resume due to an incoming call. See the code comments for more details.

	ogsmd: channel/parser: fix an embarrasing bug in the low-level AT parser that has been here from day one. Basically we were always assuming that 'haveCommand' [which is used to decide whether a response is solicited or unsolicited] was vaild for the whole bunch of bytes that were fed to the parser. This is wrong! (Of course, since we may retrieve lots of lines in one row that can refer to a number of commands). This may also have been the cause for the hard lock upon sending +CGACT=0 (which may actually have been a hang in the parser) that triggered an intermediate response concatenated to the OK response: \r\nOK\r\n\r\nNO CARRIER\r\n I'm actually very surprised that this could've been undetected for so long...

	ogsmd: pdp: release context at the end of shutting down ppp, so that the next ppp invocation will find the virtual channel in command mode

	ogsmd: implement org.freesmartphone.GSM.Network.TimeZoneReport() Thanks Dieter S., Jörg R. and all who contributed to the puzzle :)

	ogsmd: add parser for strange modems

	ogsmd: ppp has a serious shutdown problem :/ working around it

	ogsmd: start reworking ppp connection setup/shutdown WIP; it's broken atm. :D

	ogsmd: implement org.freesmartphone.GSM.PDP.GetNetworkStatus()

	ogsmd: add org.freesmartphone.GSM.PDP.NetworkStatus()

	onetworkd: s/logging/logger/

2008-12-08  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: disable frame depth inspection per default

	ogsmd: remove old low level AT parser, state-based one is default now

2008-12-07  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	update TODO

2008-12-07  Stefan Schmidt  <stefan@datenfreihafen.org>

	ogsmd: Use right daemon name in header

	ogsmd: [ericsson_F3507g] Add skeleton driver
	* Modem used on a MiniPCIe card
	* Featuring HSPA and GPS

2008-12-06  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [FREESCALE NEPTUNE] Query our MNO database to show the provider's alphanumerical name in addition to the numerical code (which is the only thing we get on this modem...)

	setup.py: ship the new file

	ogsmd: add database for mobile network codes. This becomes handy in case the modem does not properly support enquiring the alphanumeric operator names from the network (Freescale Neptune comes to mind...)

	ogsmd: Implement org.freesmartphone.GSM.SIM.GetIssuer() -> s NOTE: Clients can now show the mobile virtual network operator (MVNO) instead of the actual network operator, if they want to. This is a result for FSO ticket #271.

	ogsmd: Add 'cid' and 'lac' to result for org.freesmartphone.GSM.Network.GetStatus()

	ogsmd: fix traceback on releasing resource

	ogsmd: [TI CALYPSO] disable +COLP=1 to prevent falling into FSO #211.

2008-12-05  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	odeviced: implement org.freesmartphone.Device.LED.SetNetworking(s,s)->() * add parameter validation to .SetBlinking

2008-12-04  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: implement org.freesmartphone.GSM.Device.[Get|Set]MicrophoneMuted()

	odeviced: [kernel26] turn off LED on shut down

	ogsmd: Implement org.freesmartphone.GSM.Device.[Get|Set]SpeakerVolume

	odeviced: [kernel26] turn off LED on shut down

	resource: disable resource on object shutdown

	give subsystems and objects a chance to properly shut down

2008-12-03  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	fix SIGTERM handler in daemon support code

2008-12-02  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: unset gsm-standard hooks on modems that offer special call progress URCs

	ousaged: refactor resource classes into seperate module

	ousaged: Preliminary implementation of org.freesmartphone.Usage.[Shutdown|Reboot]() -> () Send signal org.freesmartphone.Usage.SystemAction() before suspending, after resuming, before shutting down, before rebooting. This fixes FSO ticket #287.

	ousaged: org.freesmartphone.Usage.Suspend() now returns a value instead of timing out (call did not return before the actual suspend was triggered). As an inherent result, the suspend now occurs asynchronous. This fixes FSO ticket #215.

	ogsmd: improve killall function, patch courtesy sdhillon. closes FSO ticket #260

	odeviced: Add two new resources: 'CPU' and 'Display': Requesting the CPU resource will prevent the idle notifier from falling into the 'suspend' state, requesting the Display resource will prevent the idle notifier from falling into the 'idle_dim' (and following) state(s). With these two resource, it now takes only one additional rule to prevent the system from suspending while on a call or a musicplayer is playing.

	ogsmd: connection sharing now works

2008-11-30  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: start with support for the CINTERION MC75(i)

	ogsmd: timeouts are now per-modem

	ogsmd: refactor modem creation logic into modem factory method

2008-11-29  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: cosmetics

2008-11-29  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Add modem for Option UMTS cards

	ogsmd: Fix sierra modem
	The channel now needs to be passed the modem object

2008-11-28  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: Revamped callhandling. Refactored the state-based call handler from TI Calypso (and Freescale Neptune) into a generic class that will be used from all modem abstractions. Ported singleline to use the new call handler. More tests needed for TI Calypso and Freescale Neptune.

	MAJOR BUGFIX: Stop importing modules by full name, instead append the subsystem to sys.path, by that we workaround modules getting imported twice, once as (e.g. <framework.subsystems.ogsmd.modems.abstract.calling> and <ogsmd.modems.abstract.calling>. Apparantly, if you are using __import__, you bypass the usual Python module import checks that should prevent modules from getting imported twice with different namespaces. D'oh. Anyways, this fixes a lot of potential problems with our classmethods, singletons, etc. It should also reduce memory consumption and lookup time a bit.

2008-11-28  Guillaume Chereau  <charlie@openmoko.org>

	ogsmd: fix a bug : string.translate fails with unicode text

	ogsmd: use 'serial' conf parameter to find the serial line in single line modem

	ogsmd: Fix a bug when using singleline channel
	This patch add the methods `setIntermediateResponseCallback` and
	`handleUnsolicitedResponse` into AbstractModemChannel.

2008-11-28  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: major refactoring of call handling into abstract callHandler. WARNING: Work in progress -- this might destabilize callhandling for a while

2008-11-27  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	Merge commit 'origin/stabilization/milestone4'
	Conflicts:
		framework/subsystems/ogsmd/helpers.py

	ogsmd: use proper function to kill a process. This fixes FSO ticket #260

	Merge commit 'origin/stabilization/milestone4'

	ogsmd: [FREESCALE NEPTUNE]: prepare +CESS handler and fix +CSSU handler Why's this special for the neptune?

	Merge commit 'origin/stabilization/milestone4'

	tests: org.freesmartphone.GSM.CB.[Get|Set]CellBroadcastSubscriptions done

	Merge commit 'origin/stabilization/milestone4'

	ogsmd: [FREESCALE NEPTUNE] add custom mediators for org.freesmartphone.GSM.CB.[Get|Set]CellBroadcastSubscriptions

	document some new neptune quirks

	ogsmd: improve standard compliance in org.freesmartphone.GSM.SIM.GetAuthCodeRequired()

	ogsmd: [FREESCALE NEPTUNE] fix PDU patterns for +CGML and +CGMR This fixes org.freesmartphone.GSM.SIM.RetrieveMessagebook and org.freesmartphone.GSM.SIM.RetrieveMessage

	Merge commit 'origin/stabilization/milestone4'

	tests: org.freesmartphone.[Get|Set]CallingIdentification() done

	Merge commit 'origin/stabilization/milestone4'
	Conflicts:
		framework/subsystems/ogsmd/device.py
		framework/subsystems/ogsmd/modems/abstract/mediator.py

	tests: org.freesmartphone.GSM.Network.GetNetworkCountryCode() done

	otapi: fix bogus error namespaces

	ogsmd: fix unimplemented method org.freesmartphone.GSM.Network.GetNetworkCountryCode() -> ss

	Merge commit 'origin/stabilization/milestone4'

	tests: org.freesmartphone.Retrieve[Phonebook|Messagebook] done

	tests: org.freesmartphone.GSM.Network.[ListProviders|RegisterWithProvider] done

	cosmetics

	ogsmd: bring SINGLELINE and MUXED4LINE up to speed again

2008-11-26  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	Merge commit 'origin/stabilization/milestone4'

	tests: org.freesmartphone.GSM.Network.Status() done

	tests: add to README

	tests: add org.freesmartphone.Device.Audio.SoundStatus()

	Merge commit 'origin/stabilization/milestone4'

	tests: start with org.freesmartphone.GSM.Network.*

2008-11-25  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	Merge commit 'origin/stabilization/milestone4'

	ogsmd: also report MCC and MNC in org.freesmartphone.GSM.Network.GetStatus() / org.freesmartphone.GSM.Network.Status WARNING: soft API change

	ogsmd: (readd) server.py

	Merge commit 'origin/stabilization/milestone4'

	tests: org.freesmartphone.[GetSet]ServiceCenterNumber()

	Merge commit 'origin/stabilization/milestone4'

	tests: org.freesmartphone.GSM.SIM: * RetrieveEntry * StoreEntry * DeleteEntry

	Merge commit 'origin/stabilization/milestone4'

	tests: start with phonebook tests

	ogsmd: [FREESCALE NEPTUNE] catch up modem abstraction with current state of affairs, use PDU mode

	Merge commit 'origin/stabilization/milestone4'
	Conflicts:
		framework/subsystems/odeviced/audio.py

	odeviced: start with tests for org.freesmartphone.Device.Audio()

	odeviced: fix error namespace for org.freesmartphone.Device.Audio

	odeviced: org.freesmartphone.Device.Audio.PlaySound: don't crash if extension is missing in filename

	odeviced: fix a couple of problems in the Audio problem and support new features such as a loop parameter and an optional length override (time in seconds). NOTE: Some codecs (i.e. machine emulators such as siddec) can not find out when a song ends, hence it will play forever until you stop it (or give it a length override, which is now possible). WARNING: API breakage in org.freesmartphone.Device.Audio.PlaySound() oeventsd: catch up with API breakage in odeviced/audio rules: override length for SID ring and message tunes This fixes FSO ticket #247 and the message notification tone only working for the first time in ms4(.1) NOTE: More stress-tests for the audio API necessary
	Conflicts:

		framework/subsystems/oeventsd/fso_actions.py

	tests: start with org.freesmartphone.GSM.SIM.*

	Merge commit 'origin/stabilization/milestone4'

	tests: org.freesmartphone.GSM.[Get|Set]AntennaPower done

	tests: org.freesmartphone.GSM.GetFeatures() done

	ogsmd: [FREESCALE NEPTUNE] create the MiscChannel on /dev/mux6 for now

	ogsmd: improve result for org.freesmartphone.GSM.Device.GetFeatures()

	Merge commit 'origin/stabilization/milestone4'

	ogsmd: [FREESCALE NEPTUNE] implement org.freesmartphone.GSM.Device.GetInfo

	tests: finally start with full test coverage for the FSO API compliance (yes, this is just a small start, but it's now underway)

2008-11-23  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: Added reinit method to abstract modem class, * added hook for handling a HUP in the low level channel class, * added reinitializing the TI Calypso modem class whenever a HUP on any MUXer channel has been detected (which means that the gsm0710muxd has probably been killed). NOTE: We now survive a killall gsm0710muxd transparently! TODO: How to send this to the upper layers? (via a signal in the org.freesmartphone.GSM.Device space?)

	onetworkd: simple connection sharing seems to work now!

2008-11-22  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	onetworkd: connection sharing convenience (WIP, there is no such thing as a Network subsystem...)

	onetworkd: just playing around...

	Merge commit 'origin/stabilization/milestone4'

	ogsmd: remove watchForHUP in GSM channel on close(). This fixes FSO ticket #240

	ousaged: add FIXME

	odeviced: fix a couple of problems in the Audio problem and support new features such as a loop parameter and an optional length override (time in seconds). NOTE: Some codecs (i.e. machine emulators such as siddec) can not find out when a song ends, hence it will play forever until you stop it (or give it a length override, which is now possible). WARNING: API breakage in org.freesmartphone.Device.Audio.PlaySound() oeventsd: catch up with API breakage in odeviced/audio rules: override length for SID ring and message tunes This fixes FSO ticket #247 and the message notification tone only working for the first time in ms4(.1) NOTE: More stress-tests for the audio API necessary

2008-11-21  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: improve suspend/resume UART handling -- closes #31 WARNING: this needs testing!

2008-11-20  Daniel Willmann  <daniel@totalueberwachung.de>

	Merge branch 'stabilization/milestone4'

	preferences: Make message tone silent as well in silent profile

	Merge branch 'stabilization/milestone4'

	ogsmd: Make CPI handling more robust
	Sometimes for a MO call we don't get %CPI with message type 9, but only
	with message type 3. This patch adds the direction attribute to all CPI
	signals and also listens to message type 3.

2008-11-20  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	update ChangeLog, change default incoming SMS notification tone

2008-11-20  Tobias Gruetzmacher  <tobias-git@23.gs>

	Add support for audio file options.
	Options can be appended to audio file names, seperated via semicolons.
	As an example, the ringtone now plays a different tune from the defaul
	SID file.

2008-11-19  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	fix resource not being able to report errors correctly
	Conflicts:

		framework/resource.py

	fix resource not being able to report errors correctly

	enable testing subsystem

	testing: add SetResourceBehaviour method add testing interface to cli-framework

	testing: add new subsystem solely for testing purposes

	ogsmd: add documentation for call type 128

	update ChangeLog, change default incoming SMS notification tone

2008-11-19  Tobias Gruetzmacher  <tobias-git@23.gs>

	Add support for audio file options.
	Options can be appended to audio file names, seperated via semicolons.
	As an example, the ringtone now plays a different tune from the defaul
	SID file.

2008-11-19  Julien 'Ainulindale' Cassignol  <ainulindale@gmail.com>

	Merge branch 'master' of git@git.freesmartphone.org:framework

	oeventsd/ExternalDBusAction : proper handling of the bus argument.

2008-11-19  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: split server and device object implementation into two files

2008-11-19  Julien 'Ainulindale' Cassignol  <ainulindale@gmail.com>

	Added an oeventsd action to call DBus methods. Syntax is : ExternalDBusAction("system"|"session", service, device, interface, method, *arguments). Session bus is untested and shouldn't work as is (FIXME). Thanks shoragan for the step-by-step thing ;-).

2008-11-18  Julien 'Ainulindale' Cassignol  <ainulindale@gmail.com>

	Timeout settings are now persistent.

	Timeout settings are now persistent.

2008-11-18  Daniel Willmann  <daniel@totalueberwachung.de>

	Merge branch 'stabilization/milestone4'

2008-11-17  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Avoid AttributeError: 'AbstractSMS' object has no attribute 'ud'
	This makes sure that the ud attribute is always present.

	Merge branch 'stabilization/milestone4'
	Conflicts:

		framework/subsystems/ogsmd/gsm/const.py

	ogsmd: Increase SIMAUTH timeout to 15 seconds

	ogsmd: Increase default timeout to 10 seconds
	It seems that especially if the calypso is busy the default timeout of 5
	seconds wasn't enough and timeouts fired quite often with the response
	arriving shortly after. Increasing the timeout will hopefully only catch
	real timeouts.

2008-11-16  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [TI CALYPSO] report GSM | GPRS cipher status

2008-11-15  Daniel Willmann  <daniel@totalueberwachung.de>

	Merge branch 'stabilization/milestone4'

	odeviced: Fix o.f.Device.Input.Event pressed and released handling
	We need subsecond accuracy in the timestamp to accurately detect when
	one second is over.

	ogsmd: Rename featuremap to properties, add type

2008-11-14  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	Merge commit 'origin/stabilization/milestone4'

	[odeviced] Added kernel26 option called 'fb_blank' (default=1). If you suffer from the Om bug WSOD (white screen of death) during "normal" operation, try setting this option to 0.

2008-11-14  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Increase default timeout to 10 seconds
	It seems that especially if the calypso is busy the default timeout of 5
	seconds wasn't enough and timeouts fired quite often with the response
	arriving shortly after. Increasing the timeout will hopefully only catch
	real timeouts.

	ogsmd: Rename AbstractSMS -> SMS, make decodeSMS a class method

2008-11-14  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: implement org.freesmartphone.GSM.Network.GetCountryCode() -> ss

2008-11-14  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Move {en,de}codePDUNumber to PDUAddress.{pdu,decode}
	This moves the functions from convert.py to (class) methods of
	PDUAddress which is much cleaner.

	ogsmd: Make PDUAddress parsing/generation more robust
	This adds support for numbers that have *#abd "digits" in them.

	ogsmd: sms.py: Add some more PDUs and add ACKPDUs for testing

	ogsmd: Change repr method to __repr__ in SMS and CB classes
	Add some more output in __repr__

	ogsmd: Ensure that self.ud is set if we receive a binary SMS/CB

	ogsmd: Introduce SMSError and use it
	SMSError will be raised if SMS parsing/generation fails. Currently only
	used if the PDU is malformed (which shouldn't happen, but does - see
	http://trac.freesmartphone.org/ticket/227)

	ogsmd: Add support for supplying PDUs in a file on stand-alone operation
	Put PDUs separated by newlines in two files, one for MO and one for MT
	messages then call sms.py with the filenames for MO and MT PDUs as
	parameter.

2008-11-13  Jan Luebbe  <jluebbe@debian.org>

	ogsmd: add another %CCCN example

	Merge branch 'stabilization/milestone4'

	ogsmd: detect forwarding for incoming calls

	ogsmd: fix SendUssdRequest to use UCS2 encoding

2008-11-13  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [TI CALYPSO] prepare for sending org.freesmartphone.GSM.CipherIndication

	ogsmd: [TI CALYPSO] use callbacks for sending +CNMI and %CBHZ

	ogsmd: add support for callbacks in addition to static strings

	odeviced: use gobject.timeout_add instead of timeout_add_seconds, since we need the granularity here. This fixes the power button (hence suspend) seemingly not working always.

	odeviced: use gobject.timeout_add instead of timeout_add_seconds, since we need the granularity here. This fixes the power button (hence suspend) seemingly not working always.

	ogsmd: [TI CALYPSO] use callbacks for sending +CNMI and %CBHZ

	ogsmd: add support for callbacks in addition to static strings

	ogsmd: [TI CALYPSO] send %CBHZ if told to listen for home zone channel broadcasts NOTE: Does not survive a suspend/resume cycle yet. Need to enhance the channel's suspend/resume command handling a bit beforehand (allow sending a callable in addition to a static string).

2008-11-12  Daniel Willmann  <daniel@totalueberwachung.de>

	Merge branch 'stabilization/milestone4'

	ogsmd: Unify timeout for all CPIN commands (thanks quickdev!)

2008-11-10  Daniel Willmann  <daniel@totalueberwachung.de>

	Merge branch 'stabilization/milestone4'

	ogsmd: Increase {Get,Set}AntennaPower timeout

	Merge branch 'stabilization/milestone4'

	ogsmd: Make GetMessagebookInfo return integers (thanks quickdev!)

	Merge branch 'stabilization/milestone4'

	ogsmd: Adjust timeout values for GetAuthStatus and SmsSendMessage

2008-11-10  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	Merge commit 'origin/stabilization/milestone4'

2008-11-10  Julien 'Ainulindale' Cassignol  <ainulindale@gmail.com>

	Forgot I was using python. else if -> elif

	Implemented org.freesmartphone.odeviced.IdleNotifier.GetTimeouts() => a{si} and SetTimeout(s,i).

	Forgot I was using python. else if -> elif

2008-11-10  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [TI CALYPSO] do not assert when the callHandler gets instanciated twice (need to remove that as singleton anyways, now that we can shutdown and restart) This closes FSO ticket #185

2008-11-09  Julien 'Ainulindale' Cassignol  <ainulindale@gmail.com>

	Implemented org.freesmartphone.odeviced.IdleNotifier.GetTimeouts() => a{si} and SetTimeout(s,i).

2008-11-09  Daniel Willmann  <daniel@totalueberwachung.de>

	Merge branch 'stabilization/milestone4'

2008-11-08  Daniel Willmann  <daniel@totalueberwachung.de>

	resource.py: Allow method calls in any state except disabled
	This is a workaround at the moment for Bug #209 since the problems that
	could occur with this workaround are less annyoing than the "DBus calls
	fail right after wakeup from GSM".

	Merge branch 'stabilization/milestone4'

	ogsmd: Properly encode and decode the address in gsm default alphabet
	If the address is alphanumeric it's encoded in the 7-bit GSM default
	alphabet so handle encoding/decoding properly.

2008-11-07  Daniel Willmann  <daniel@totalueberwachung.de>

	Merge branch 'stabilization/milestone4'

	Fix a Traceback on channel close when ti_calypso_deep_sleep = never
	We now have the case that there is no self.delegate.recampingTimeout set
	so instead check for self.delegate.checkForRecamping.

2008-11-02  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	docs: update calypso docs with some new (hard to believe) issues

	Merge commit 'origin/stabilization/milestone4'

	ogsmd: [TI CALYPSO]: shutdown modem on close() call

	odeviced: initial status for every LED is 'off'

	use cProfile to profile and import http://www.gnome.org/~johan/lsprofcalltree.py, that way we can view our profile output in kCacheGrind

	* remove option parsing out of controller, into frameworkd * add command line option for profiling with the python-hotshot profiler

	odeviced: enhance linux input system support

2008-11-01  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	change README

2008-10-31  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	Merge commit 'origin/stabilization/milestone4'

	ogsmd: Fixed bogus logic and sent-on-wrong-channel bugs in org.freesmartphone.GSM.Network.SetCallingIdentification.

	Merge commit 'origin/stabilization/milestone4'

	ogsmd: org.freesmartphone.GSM.Network.GetStatus(): make sure network provider is always shown in alphanumerical format. Thanks Alastair Johnson for spotting.

	Merge commit 'origin/stabilization/milestone4'

	ogsmd: [TI CALYPSO] add TI-Calypso specific modem option called 'ti_calypso_deep_sleep'. Valid values are: 'never', 'adaptive' (default), and 'always'. See Om bug #1024.

2008-10-30  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	Merge commit 'origin/stabilization/milestone4'

	rules: change Suspend rule to only fire on a button release when the button has not been held for one second or longer

	odeviced: input: deliver duration (i.e. number of seconds the key was held) also for the 'release' signal. Note: This is a minor API enhancement which should be backwards-compatible since the docs told that the duration field was previously only used for the 'held' signal.

2008-10-29  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	odeviced: audio: fallback to NullPlayer if GStreamerPlayer can't be launched

	odeviced: audio: fallback to NullPlayer if GStreamerPlayer can't be launched

2008-10-29  Daniel Willmann  <daniel@totalueberwachung.de>

	Merge branch 'stabilization/milestone4'

	oeventsd: Fix MessageToneAction
	This follows a change in {Audio,Vibrator}Action to tasklets

	ogsmd: Use PDUAddress.guess for org.freesmartphone.GSM.SMS.SendMessage

	oeventsd: Fix IncomingMessage trigger (thanks quickdev)
	This follows the org.freesmartphone.GSM.SIM API change from
	IncomingMessage to IncomingStoredMessage

	Merge commit 'origin/stabilization/milestone4'

	oeventsd: Fix SetLeds action that got broken earlier

2008-10-29  Guillaume Chereau  <charlie@openmoko.org>

	tests: added oevents tests

	oeventsd: added RemoveRule DBus method

	oeventsd: Abort rule creation if there is a parsing error
	Before this, if a function call in the rule file fails, then the value returned by the function is None.
	Instead we raise an exception, and let the parser aborts the rule (with big error message)

2008-10-28  Daniel Willmann  <daniel@totalueberwachung.de>

	Merge commit 'origin/stabilization/milestone4'
	Conflicts:

		framework/subsystems/ogsmd/modems/abstract/mediator.py
	(changed dir -> direction since dir is a python builtin)

	ogsmd: Correctly match on SMS category in RetrieveMessage

	ogsmd: Fix TI calypso recamping logic (#190)
	The timer is now removed if we disable GSM resource.

2008-10-28  Jan Luebbe  <jluebbe@debian.org>

	Merge branch 'stabilization/milestone4'

	persist: readd logging

2008-10-28  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: 'dir' is a builtin in Python, don't shadow it

2008-10-27  Jan Luebbe  <jluebbe@debian.org>

	Merge branch 'stabilization/milestone4'

	persist: add support for the pickle format and use it per default

2008-10-27  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Use PDUAddress.guess for org.freesmartphone.GSM.SMS.SendMessage

2008-10-27  Jan Luebbe  <jluebbe@debian.org>

	Merge branch 'stabilization/milestone4'

	oeventsd: handle suspend as a rule

2008-10-27  Daniel Willmann  <daniel@totalueberwachung.de>

	oeventsd: Fix IncomingMessage trigger (thanks quickdev)
	This follows the org.freesmartphone.GSM.SIM API change from
	IncomingMessage to IncomingStoredMessage

2008-10-27  Guillaume Chereau  <charlie@openmoko.org>

	oeventsd: using yaml CLoader
	This make things faster, but there is a problem : it is not possible to tell yaml to automatically
	interpret the functions anymore, so we have to do it manually after each call to yaml.load, and iterate the structure
	looking for functions. It is really not a very good solution.

2008-10-26  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	odeviced: improve WARNING wording

	odeviced: make UsbHost no ResourceAwarePowerControl for now If it's a ResourceAwarePowerControl and there is no ousaged running on startup, then it will break USBeth by automagically switching to host mode (which may not be what you want...)

	* [odeviced] Support .ogg in GStreamerPlayer and code more defensively (checking whether decoders are available before trying to instanciate them)

	ousaged: readd os import and ~lart pychecker. Thanks quickdev

2008-10-24  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	oeventsd: call init on base class, even if this does nothing

	Resource System: work around the fact that the dbus-python bindings do not really support handling methods for one object by two different classes, not even when it's just an ancestor.

2008-10-23  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: [TI Calypso] Return False in _reactivateDeepSleep
	This function is added as a timer from _checkRecampingBug in order to
	reenable deep sleep. Not returning False leads to many
	_reactivateDeepSleep being scheduled over time (if you're suffering from
	Bug #1024).

	ogpsd: Log info for the DBus Signals

	ogsmd: Introduce PDUAddress.guess for guessing number types and use it
	PDUAddress.guess() will try to figure out what kind on address
	(international number, national number, alphanumeric) is called and set
	the numbertype appropriately.

	ogsmd: Fix typo in const.py

	ogpsd: Fix shutdown logic of the SerialChannel

	ogpsd: Save the path in FileChannel constructor
	After introducing initializeChannel and shutdownChannel methods we need
	to save the path in the constructor so we can access it in
	initializeChannel. This functionality should probably go to the base
	class instead.

	ogpsd: Remove dbus imports from nmea.py

	cli-framework: Crop readline history to 1000 lines

	ogpsd: Clean up the GPS time calculation (Thanks Jan)
	The previous time calculation code was a mess and in the end only worked
	because two errors cancelled each other out.

2008-10-23  Guillaume Chereau  <charlie@openmoko.org>

	tests: added test for opimd ContactQuery.GetMultipleResults

	opimd: fix a few things
	* return DBus path instead of uri
	* GetMultipleResults actually returns a list

	tests: updated opimd test
	Add checking that added contact appears into the query for the same name

	opimd: fix a few problems in pimd_contacts
	* use DBus path intead of uri
	* disable query.check_new_contact

2008-10-22  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	cli-framework: honor boolean type (thanks Frederik Sdun)

2008-10-22  Guillaume Chereau  <charlie@openmoko.org>

	oeventsd: Several actions can share the leds
	This is a little bit experimental,
	each led object keeps track of 'who' is using it and can then solve conflicts
	(for example if one action turns a led off and an other one turns it on, the led will be on)

	The drawback is that it only works with 'while' type rules.

2008-10-21  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	* [ousaged] Remove dummy resources encapsulating odeviced objects * [odeviced] Add ResourceAwarePowerControl class and use it * [odeviced] Add powercontrol_ibm.py for IBM ACPI Resources

	use interface, so that we can run cli-framework as non-root

	resource.py: use own bus object

	odeviced: binding to the kobject socket only works as root

2008-10-21  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd: Don't send ephemeris since this seriously screws up the GPS chip

	ogpsd: Fix aiding data time generation bug (time.time honors DST flag)

	ogpsd: Report height above mean sea level, not above ellipsoid
	NMEA height is reported as height above mean sea level, this fixes #188

2008-10-21  Guillaume Chereau  <charlie@openmoko.org>

	tests: Added ogsmd2.py

2008-10-21  Daniel Willmann  <daniel@totalueberwachung.de>

	oeventsd: Split arguments in DbusTrigger
	This way we can just match on the first argument of a DBus signal with
	HasAttr(arg0, "foo")

2008-10-21  Guillaume Chereau  <charlie@openmoko.org>

	tests: Added some tests for gsm
	this patch also add a way to request manual operations during a test,
	using the 'operator' object.

	Fix a few typos in dbus-1/system.d/frameworkd.conf

2008-10-20  Guillaume Chereau  <charlie@openmoko.org>

	opimd: Created 'Backend' and 'Domain' classes
	It has to be done because we don't want to register the backends and the domains at import time.
	So instead we register only the classes at import time using the metaclasses, and then we can register all the
	domains and the backends.
	I also renamed the modules to remove the '-' characters, cause we have to import the modules manually.

	Compute the rootdir in config module
	This is because otherwise many subsystems have to reinvent a way to get the data directories.
	With this patch, they can all use directories : "%s/%s" % (rootdir, subsystem_name)

	opimd: update example frameworkd.conf

2008-10-19  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	oeventsd: do not bail out if preferences subsystem is not there

	* add command line option '-d' that triggers daemonizing mode * prepare for controlled shutdown

	ogsmd: [TI CALYPSO]: s/logging/logger/

	ogsmd: move 'assert' to logger.warning, if unknown GSM number type found

2008-10-18  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: send +CSMS=1 only after the SIM has been unlocked

	ousage: fix potential errors detected by pychecker

2008-10-17  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ousaged: improve error specs, clean up, bump version

	ogsmd: [TI CALYPSO]: lower recamping detect factor to 0.3 :/

2008-10-17  Guillaume Chereau  <charlie@openmoko.org>

	opimd: settings merged with framework settings

	oeventsd: DBusTrigger can be created from the rules file

2008-10-16  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: add some Calypso proprietary errors

	tools: cli-framework: improve prettyprinter to cover more cases

2008-10-16  Guillaume Chereau  <charlie@openmoko.org>

	tests: Add opimd test suites

	cli-framework: Add support for pim service

	opimd: Added Source.InitAllEntries DBus method
	This method has to be called by the client before trying to access the contacts.
	I think we could implement it as a service ('PIM').

	opimd: Fix transition bugs
	This patch makes the pimd subsystem not crash on startup.
	It disables automatic loading of the contacts on startup, because this should be done on user request.

	opimd: Initial import
	Copied all the files from Soeren gsoc project
	Also eplaced all the tabs by spaces to follow the style used by other subsystems.

	The opimd subsystem is *not* working now, so we sohuld disable it in framework.conf file.

2008-10-15  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ousaged: readd parameter checking which seems to got lost on the way (tsss...)

2008-10-15  Guillaume Chereau  <charlie@openmoko.org>

	tests: Added 'request' decorator to the tests
	This can be used to specify that a test can only be run under specific conditions (like if the sim card is present.)
	The current test condition can be specify in the file 'tests.conf'
	I also created a README file for the tests and started a sim test suite.

2008-10-14  Daniel Willmann  <daniel@totalueberwachung.de>

	resource.py: Don't put a "disabled" resource into "suspended" state.
	If we call ok_callback() in Suspend() when encountering a disabled
	resource its next status will be "suspended" which is not what we want.
	Instead call dbus_ok() directly.

	Revert "Fixed suspend/resume to take into account truly enabled GPS."
	This reverts commit 9c578aff0511d548701b5be995b4215544d77f70 as the
	problem arises from a bug in the resource system where disabled
	resources will be resumed.

2008-10-14  Julien 'Ainulindale' Cassignol  <ainulindale@gmail.com>

	Fixed suspend/resume to take into account truly enabled GPS.

	Slight modification of rules.yaml to set brightness to 90 on incoming calls.

2008-10-14  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	odeviced: open framebuffer "just in time" for blanking/unblanking ioctl

	rules: add emergency shutdown rule

	odeviced: signal lowercase consistency change for idlenotifier and kernel26

2008-10-14  Guillaume Chereau  <charlie@openmoko.org>

	opreferences: log error instead of info when service not found

	tasklet: Added WaitDBusName tasklet
	This is a special tasklet that blocks until a given DBusName is available on the system bus

2008-10-13  Guillaume Chereau  <charlie@openmoko.org>

	oeventsd: Added 'AddRule' dbus method for dynamic creation of new rules

2008-10-13  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: increase valid modem timeout for COPS to 30 seconds

2008-10-13  Guillaume Chereau  <charlie@openmoko.org>

	cli-framework: Added events interface

	oeventsd: Added a 'Test' Trigger
	This is useful for testing the rules.

	oeventsd: Added the 'SetProfile' Action

	oeventsd: Access preferences service via DBus, instead of using direct python access

	oeventsd: Don't start the AudioAction in the RingToneAction if the volume is set to 0

2008-10-12  Daniel Willmann  <daniel@totalueberwachung.de>

	oeventsd: Call update in the idle loop
	This makes sure dependent subsystems are loaded before we try to access
	them.
	Also add missing etc yaml files. *Please* add new config files to the
	build system!

2008-10-11  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	add LICENSE

2008-10-10  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	odeviced: input: stop reading from touchscreen for now (to reduce CPU usage) add linux input subsystem support (from pyglet)

	odeviced: refactor brightness handling

	odeviced: [PATCH] use /dev/fb0 ioctl based screen blanking (from Harald Welte)

2008-10-09  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd: Update ChangeLog
	* Mention gllin support for GTA01 and SBAS for GTA02

2008-10-09  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	move ListObjectsByInterface from org.freesmartphone.Objects to org.freesmartphone.Framework Warning: API Change, please adjust.

	oeventsd: fix super() call in SetAudioScenarioAction. Should fix FSO #174

	ogsmd: validate parameters for org.freesmartphone.GSM.Call.Initiate

2008-10-08  Guillaume Chereau  <charlie@openmoko.org>

	tests: started the test framework using python unittest

	tasklet: fix bug

2008-10-08  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	cli-framework uses pprint to display its results now

	ogsmd: raise org.freesmartphone.GSM.SIM.NotReady for CME Error 100

	ogsmd: add dbus error org.freesmartphone.GSM.SIM.NotReady

2008-10-07  Daniel Willmann  <daniel@totalueberwachung.de>

	resource: If resource is disabled don't suspend or resume

2008-10-07  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [TI CALYPSO]: change recamping threshold to trigger earlier

	ogsmd: [TI CALYPSO]: fix ReleaseALL during outgoing call. Thanks HDR for reporting!

2008-10-07  Guillaume Chereau  <charlie@openmoko.org>

	cli-framework: Added preferences interface

	oeventsd: Using the preferences service to get the list of enabled rules     I added a small example in the rules file so that we can see how it works.

	opreferencesd: Added list type    I also removed the dictionary key access (we can only get a full dict if the value is a dict now).    This is because this feature was only here for the pim system, but it is going to use its own backend instead    so we don't need this anymore.

2008-10-07  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Fix bug where sending/storing SMS with local number fails
	This happend on all numbers not in international (starting with '+')
	format

2008-10-07  Guillaume Chereau  <charlie@openmoko.org>

	oeventsd: fixed bug #169

2008-10-06  Daniel Willmann  <daniel@totalueberwachung.de>

	cli-framework: Add gsmsms, gsmdebug and ubxdebug interfaces

	ogsmd: org.freesmartphone.GSM.SMS.SendMessage
	This method sends an SMS directly without having to save it on SIM
	first.

	ogsmd: Issue Device{G,S}etSimBuffersSms on unsolicited channel
	+CMT will go the the same channel where CNMI was set so we need to set
	it in the unsolicited channel.
	This also fixes a logic bug where GetSimBuffersSms would return the
	opposite of what it was set to.

	ogsmd: Add support for IncomingMessage in non-buffered mode
	This also renames the .SIM.IncomingMessage signal to
	.SIM.IncomingStoredMessage
	Warning: API breakage in org.freesmartphone.GSM.SIM!

	ogpsd: Enable SBAS by default and poll for HUI packet

2008-10-06  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: implement org.freesmartphone.GSM.SIM.ListPhonebooks() -> as

	ogsmd: fix bug in calling GetPhonebookInfo from within RetrievePhonebook. Thanks quickdev!

2008-10-06  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd: Add a GllinChannel that will start and stop gllin

	ogpsd: Add resource management to GPSChannel as well
	This adds support for a GPSChannel to react to resource enable, disable,
	suspend and resume events.

2008-10-06  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	[ogsmd] change SIM phonebook API to support multiple phonebooks Warning: This is an API breakage in org.freesmartphone.GSM.SIM !

2008-10-06  Guillaume Chereau  <charlie@openmoko.org>

	oeventsd: Added the CallListContains trigger

	oeventsd: Clean the code

2008-10-06  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [TI CALYPSO] work around deep sleep recaming bug as documented in http://docs.openmoko.org/trac/ticket/1024 NOTE: Might play with the heuristics to fine-tune

2008-10-06  Jan Luebbe  <jluebbe@debian.org>

	persist: write to a tempfile first, then rename it

	persist: use the CLoader/CDumper from libyaml

2008-10-05  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [TI CALYPSO] prepare for checking recamping bug and set AEC + Noise Reduction to -6db

2008-10-04  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Replace timeouts of individual commands with command classes

	ogpsd: GPS epoch is Oct 6th not Oct 5th 1980
	With this fix the time should be calculated correctly for the GPS
	receiver. Also slightly increase the time we wait after power on so the
	first configure packets don't go astray.

	ogpsd: Clear sendbuffer after sending stuff (emdete)
	Before we would resend everything that has ever been sent again and
	again. Big thanks to emdete for discovering!

	ogpsd: Make Gypsy .Server methods callable if the resource is disabled
	Without this fix standard Gypsy programs wont work

2008-10-04  Jan Luebbe  <jluebbe@debian.org>

	persist: fix loading empty file

2008-10-04  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: fix enabling direct SMS sending. Todo: add unsolicited handler for CMT

2008-10-03  Guillaume Chereau  <charlie@openmoko.org>

	oeventsd: Added the 'while' rule (rule that can be undo)

2008-10-03  Jan Luebbe  <jluebbe@debian.org>

	ogpsd.ubx: use the correct dbus signature

	ogpsd.ubx: add simple debug interface

2008-10-03  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: classes derived from AbstractModemChannel now need the parent 'modem' to be supplied in init (as keyword argument). ogsmd: implement org.freesmartphone.GSM.Device methods: * GetSimBuffersSms() -> (b) * SetSimBuffersSms(b) -> () Note: This is only working for TI Calypso atm., please catch up in the other modem abstractions

	resource handling: if ousaged is not present at runtime, start with the resource enabled, otherwise we have no chance to turn it on.

2008-10-02  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd.gta02: Request AID-HUI packet for warmstart
	AID-HUI contains information about the leap seconds which we very much
	like to know. If we play back a correct AID-HUI packet we get valid UTC
	time instantly.

	ogpsd.gta02: Make sending aiding data more robust
	We now send the AID-INI packet even if we don't have a position in order
	to still set the time. Persistent data gets saved at the end of shutdown

	cli-framework: Add frameworkiface object

2008-10-02  Jan Luebbe  <jluebbe@debian.org>

	ousaged: make setPolicy a tasklet

2008-09-30  Guillaume Chereau  <charlie@openmoko.org>

	tasklet: Added simple messages mechanism between tasklets

2008-09-30  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: send org.freesmartphone.GSM.SIM.MemoryFull on corresponding incoming CMS ERROR 322

2008-09-30  Guillaume Chereau  <charlie@openmoko.org>

	tasklet: Cleaned code a little

2008-09-30  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: sms.py: Don't encode the last 7 bit if they are padding
	This fixes a bug where the end of the message had a '@' character
	appended to it. This would always happen when the message was of such a
	length that the last bit of the character was encoded in a new byte. The
	remaining 7bit would then also get decoded (all zero -> @).

2008-09-30  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: Supress org.freesmartphone.GSM.SIM.NotFound as a possible response to org.freesmartphone.GSM.SIM.RetrieveMessagebook -- instead send an empty list.

2008-09-30  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd: GTA02Device: Sleep after turning on the chip
	Make sure the GPS is ready to accept commands after powering it on

2008-09-30  Guillaume Chereau  <charlie@openmoko.org>

	tasklet: Added the WaitFileReady tasklet

2008-09-30  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: implement closing the modem.

2008-09-30  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd: Send ConnectionStatusChanged signal

2008-09-29  Jan Luebbe  <jluebbe@debian.org>

	changelog: comment about ousaged api change

	ousaged: be explicit about resource availability

	ogsmd: allow ogsmd to be reenabled

2008-09-29  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd.ubx: Sanitize handling of non UBX data

	ogpsd: Only run through the dbus methods if the resource is enabled
	This is achieved through the resource.checkedmethod decorator

2008-09-29  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	add specialized checked method decorator for sync dbus methods

2008-09-29  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Split the info for concatenated short messages in multiple keys
	There's now csm_id, csm_num and csm_seq for the id of the csm, the
	total number of messages for that csm and the sequence of this message.
	The features will only have simple types as values (no lists or maps)
	to make life easier especially for the C guys.
	WARNING: The final names for the features are not decided upon yet and
	are bound to change!

2008-09-29  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: add resource.checkedmethod for every exported dbus method on /org/freesmartphone/GSM/Device

	add special decorator checking for resource availability

	readd Michele Simionato's amazing decorator module

2008-09-29  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Change regex for SMS PDU header
	This fixes a bug where RetrieveMessage would not be able to return the
	SMS if the destination address or origination address is not stored as a
	contact on the SIM card.

	ogsmd: Assign the features correctly

	ogsmd.sms: Return timezone as string for now

	ogsmd.sms: Added support for advanced message features
	This adds a parameter a{sv} to the DBus methods RetrieveMessage{,book}
	and StoreMessage.
	AbstractSMS now has a property featureMap that exposes the intersting
	fields for the user.

2008-09-28  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd: Implement org.freedesktop.Gypsy.Device.{Start,Stop} methods The Start and Stop methods now keep track of which dbus user started the device and listens to the nameownerchanged signal, releasing the resource if the last user is gone.

2008-09-28  Jan Luebbe  <jluebbe@debian.org>

	ousaged: drop unneeded boolean result for RequestResource

2008-09-28  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd.om: Reorder shutdown sequence and force GPS power off at start

	ousaged: Get rid of the asserts and raise DBusExceptions instead

	ousaged: Call correct method to register a resource

2008-09-28  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	supply dbus error in dbus-error callback for resource handling

2008-09-28  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd: Add file I missed in a355a0f8c6374ded40fe5446cadfb0646c3a3172

2008-09-28  Jan Luebbe  <jluebbe@debian.org>

	ousaged: use the Resource object via an interface

	ousaged: check if the resource exists

2008-09-28  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd: Switch ogpsd to the new resource handling in ousaged (fixes #158)

2008-09-28  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: fix GPRS connections with given user. Closes FSO #140 Patch by lindi, thanks a lot!

2008-09-28  Jan Luebbe  <jluebbe@debian.org>

	tasklet: add debug helper for unstarted tasklets

2008-09-28  Daniel Willmann  <daniel@totalueberwachung.de>

	ousaged: Call start() method on the tasklet Before that the nameownerchanged signals were lost

2008-09-28  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: Resource-handling now working with enable/suspend/resume

	add state transition tracking for Resources

	ogsmd: startup on enabling resource now complete

	ogsmd: start catching up with new way of dealing with Resources

2008-09-28  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Raise timeout for SimSendStoredMessage to 10 seconds (fixes #156) Also use of const.TIMEOUT instead of hardcoding the timeout value for SimSendAuthCode

	ogpsd.ubx: Send the speed in knots to be compatible with the gypsy API
	(fixes Bug #97) Thanks rwhitby for discovering!

2008-09-27  Jan Luebbe  <jluebbe@debian.org>

	ousaged: annouce new resources

	ousaged: report time used for enabling and disabling a resource

	ousaged: reorder imports and get rid of unused helpers module

2008-09-27  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	rules: Add IdleState DBus trigger and SetDisplayBrightness action We are handling the display dimming solely through the rules now. (Yes, the rules files is device specific nowadays...)

	support configurable global debug log destination

2008-09-27  Jan Luebbe  <jluebbe@debian.org>

	conf: add readme file for the persist directory and ship it

2008-09-26  Jan Luebbe  <jluebbe@debian.org>

	ogpsd: use the persist module for storing aiding data

2008-09-26  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	resource.py: be prepared that OUsaged can be disabled

2008-09-26  Jan Luebbe  <jluebbe@debian.org>

	ogsmd.sierra: switch to PDU mode for SMS

2008-09-26  Guillaume Chereau  <charlie@openmoko.org>

	tests: updated ousaged test suite

	ousaged: Enable and Disable are now asynchronous, using tasklet module to make things simpler.

	tasklet: Modifications to the tasklet module    * added the tasklet decorator    * generator function need to be explicitely specified as a keyword argument in Tasklet.__init__    * added Tasklet.start_dbus method, that connect to dbus compliant callback methods    * added the WaitFunc tasklet (useful to connect a tasklet to a function that take callback arguments)    * added the Sleep tasklet (useful for testing)    * suppressed test/tasklet.py, we should all use patterns/tasklet.py !

2008-09-26  Jan Luebbe  <jluebbe@debian.org>

	frameworkd: add simple persistance module

2008-09-25  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Strip padding from cell broadcast messages and add a test PDU

	ogsmd: Add cell broadcast support for PDU mode This introduces cell broadcast support for PDU mode. It hasn't been tested on a real device yet, so if you have the chance please do!

2008-09-25  Jan Luebbe  <jluebbe@debian.org>

	otimed: fix typo

2008-09-25  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd: Only update ECEF position information if our accuracy is better than 1km Before we just updated this info regardless so it could happen that it got overwritten with invalid information after powering on the GPS but before we even send the AID-INI packet.

	ogpsd: Don't ask the GPS to send AID-DATA if the aiding file doesn't even exist

2008-09-25  Matt Brown  <fso@mattb.net.nz>

	ogpsd: only sending aiding data when valid dictionaries are present On a cold boot (no aiding.dat file available) the dictionaries that would have been unpickled from it are set to empty dictionaries instead. The code then attempts to lookup entries within these dictionaries to feed aiding data to the chip, but the dictionaries are empty resulting in a key error.
	I have attached a patch which fixes this by only attempting to send each
	component of the aiding data is a non-empty dictionary is present.

	Patch by Matt Brown, thanks!

2008-09-25  Jan Luebbe  <jluebbe@debian.org>

	otimed: add basic alarm system

2008-09-25  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Add a PDU to test characters on the extended GSM alphabet table

2008-09-25  Guillaume Chereau  <charlie@openmoko.org>

	[ousaged] Added support for resources suspend and resume The code is a little bit tricky, it may be improved by using the tasklet class

2008-09-25  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Fallback to UCS2 if encoding a message in the GSM alphabet fails

	ogsmd: Fix UD length for SMS including GSM extension alphabet characters. Characters like "\", "[", ... are encoded as two septets so we need to use the length of the encoded user data.

	ogsmd: Fix encoding SMS with characters in the GSM extension table We tried to catch KeyError instead of ValueError so we missed the exceptions

2008-09-24  hadara  <hadara@bsd.ee>

	ogsmd: Fix bug in bcd_decode when an address is empty When you have SMS messages with empty sender address the bcd_decode() function will fail since it expects string to be at least 1 char long. This patch fixes it. Thanks to hadara@bsd.ee! This fixes FSO Ticket #145

2008-09-24  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Fix calculating the timezone for the SCTS and VP field

	ogsmd: Fix SimRetrieveMessage and remove some unneeded code. Patch by dv_mlist@verizon.net, thanks! This closes FSO Ticket #153

2008-09-24  Guillaume Chereau  <charlie@nikopol.(none)>

	Added the resource module.    Every subsystem that wants to register as a resource should subclass Resource,    and reimplement the _enable, _disable, _suspend and _resume methods.    it should also make sure to call  Resource.__init__ with a keyword 'name' parameter.    I updated ogsmd to behave this way, but we still need to implement the methods.

	[tests] Updated tasklet module     In fact I should totaly remove it since we have a tasklet module in the framework now.

	Print the traceback if an exception occures during a subsytem init.

	Controller.object method raise a KeyError exception if the object is not present.    It makes more sens, since most of the time an object not present is an error.

2008-09-24  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Use UCS2 as default character set This solves internationalization issues for contact names.

2008-09-24  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	tools: add usage and gps interfaces to cli-framework. closes fso #131 patch by fso@mattb.net.nz, thanks!

2008-09-23  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Add missing character "ü" to GSMALPHABET Thanks Ainundale for reporting!

2008-09-23  Jan Luebbe  <jluebbe@debian.org>

	ogsmd: finish DCS handling and add some UCS2 SMS for testing

2008-09-23  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Calculate user data length correctly when not using GSM default alphabet Encoding of UCS2 SMS now works as well, but dcs and dcs_* fields must be set correctly)

2008-09-23  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: send correct dbus error if number is not an emergency number

2008-09-23  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Fix encoding when we don't have a 7-bit charset

2008-09-23  Jan Luebbe  <jluebbe@debian.org>

	ogsmd: Fix UCS2 decoding

2008-09-23  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Use DCS alphabet to decode the message properly.

2008-09-23  Jan Luebbe  <jluebbe@debian.org>

	ogsmd: decode DCS field

2008-09-23  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Make GSM default alphabet a codec to prepare for UCS2 handling. Note: This currently breaks decoding/encoding SMS.

2008-09-22  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: add org.freesmartphone.GSM.Call.Emergency(number) -> ()

	ogsmd: catch up org.freesmartphone.GSM.SIM.GetMessagebookInfo()

	docs: ogsmd: some more comments

	ogsmd: [TI CALYPSO]: tweak PDP timeouts and settings

2008-09-20  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: add database with gprs settings

	ogsmd: add FIXME for missing state, report internal error in log as well

2008-09-09  Jan Luebbe  <jluebbe@debian.org>

	odeviced: fix SetState

	oeventsd: switch to gsmhandset while the state is outgoing

2008-09-07  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: revert revertion of a24dccc1127c619435ca405ef9e0e73ae61da7ed instead, fix textToUnicode() to deal with incoming strings that are already unicode. We emit a warning though until the transition to PDU is finished.

2008-09-07  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Change the charset of gsm/const.py to UTF 8 This makes the definition of the GSM alphabet easier/work in all cases.

	Revert "ogsmd: Change the charset of gsm/const.py to UTF 8" since it makes problems with other unicode conversion stuff
	This reverts commit a24dccc1127c619435ca405ef9e0e73ae61da7ed.

	ogsmd: Change the charset of gsm/const.py to UTF 8 This makes the definition of the GSM alphabet easier/work in all cases.

	ogsmd: Add support for GSM default alphabet and use it Previously we just de/encoded according to ASCII, this should fix lots of issues with special characters not being displayed properly

2008-09-06  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: try to circumvent race condition for sending SIM init commands Needs testing on other modems

2008-09-05  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ousaged: add UsbHost resource

	odeviced: add power control object for switching to Usb Host.

	tools/cli-framework: add convenience function for getting proxies implementing an interface

	bail out if our dbus bus name is already owned on startup

2008-09-05  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Enable PDU mode and use it in all SMS functions

	ogsmd: sms.py: Fix some PDU generation bugs with optional fields

2008-09-05  Sascha Wessel  <wessel@nefkom.net>

	ogpsd: Reset gpsfixstatus when stopping the GPS. From: Sascha Wessel <wessel@nefkom.net> Subject: [PATCH] reset-ubx-gpsfixstatus-and-buffer.patch
	Hi,

	This patch fixes the following issue:
	* zhone shows 90.0/0.0 as location (Debian bug #494927)

	Greetings,
	Sascha

2008-09-05  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd: Fix warmstart codepath so it sends initial data

2008-09-05  Sascha Wessel  <wessel@nefkom.net>

	ogpsd: UBXDevice uses one of the private variables from GPSDevice (Patch by Sascha Wessel)

2008-09-04  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: repair ppp connections without user and password

	ogsmd: start honoring user and password in PDP

	fix setup to automatically install all examples

	add example for launching scripts on incoming call

2008-09-04  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Fix various functions in convert.py and padding/udl calculation in PDU generation
	convert.py:
	* encodePDUNumber is new and supports alphanumeric addresses as well
	* bcd_encode works with odd numbers of digits
	* pack_sevenbit now correctly handles padding

	sms.py (PDU generation):
	* Use encodePDUNumber
	* Fix value of the validity period field
	* Calculate userdata length and padding correctly

	ogsmd: Test MT and MO PDUs and fix some sms. instead of self. errors

	ogsmd: Use and test the PDU generation code

	ogsmd: Add functions to encode SMS back to PDUs This is still buggy, pack_sevenbit doesn't work if UDH are present.

	ogsmd: Add a direction attribute for the SMS object MT: Mobile terminated, MO: Mobile originated

2008-09-04  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [TI CALYPSO]: enable noise reducation and echo cancelling

	ogsmd: remove strength field in Status() callback and result, _if_ * we are successfully registered and * signal strength has been reported as 0 This is actually a race condition in some modems.

2008-09-03  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	oeventsd: SMS notification: * add IncomingMessage trigger * add MessageTone action * add rule

	oeventsd: preliminary headphone mixer autoswitch * add InputEvent trigger * add Command action * add rule for gta02

2008-09-03  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd: Add a dummy GPSDevice that reports a static location

2008-09-03  Sascha Wessel  <wessel@nefkom.net>

	examples: Add examples how to use ogpsd DBus API (thanks Sascha Wessel!) ogpsd_signals.py listens for gypsy signals ogpsd_methods.py calls gypsy methods once and exits ogpsd_resource.py requests the GPS resource from ousaged (power on while running, see /sys/devices/platform/s3c2440-i2c/i2c-adapter/i2c-0/0-0073/neo1973-pm-gps.0/pwron)

2008-09-03  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd: Hide private member variables in GPSDevice to prevent subclasses from overwriting them.

2008-09-03  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	oeventsd: refactor subsystem: * separate generic actions and triggers from specific ones * remove unnecessary duplicated import statements (please be more careful on that)

2008-09-03  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd: ubx.py: Only update time when we have valid UTC bit set. Also explain in the comment some more about GPS time, leap seconds and what we could do to speed up first somewhat accurate UTC time signal.

	ogpsd: Whitespace fixes in nmea.py

2008-09-03  Sascha Wessel  <wessel@nefkom.net>

	ogpsd: Fix various bugs (patch by Sascha Wessel)
	From: Sascha Wessel <wessel@nefkom.net>
	To: standards and reference implementations <smartphones-standards@linuxtogo.org>
	Subject: Re: ogpsd questions

	Hi,

	I started to fix some of the problems while keeping the gypsy api
	intact. Moreover ogpsd should behave much more like the gypsy c
	implementation with the attached patch applied.

	Summary:

	* Fixed timestamps
	* Added _updateTime calls to nmea.py
	* Added _reset method to gpsdevice.py and call it when deconfiguring devices
	* Fixed _updatePosition: keep old values
	* Fixed _updateAccuracy: keep old values
	* Fixed _updateCourse: keep old values
	* Fixed initialization: get rid of error messages like:

	dbus.exceptions.DBusException: org.freedesktop.DBus.Python.IndexError: Traceback (most recent call last):
	  File "/var/lib/python-support/python2.5/dbus/service.py", line 702, in _message_cb
	    retval = candidate_method(self, *args, **keywords)
	  File "/var/lib/python-support/python2.5/framework/subsystems/ogpsd/gpsdevice.py", line 127, in GetTime
	    return self.time[0]
	IndexError: list index out of range

	Please consider applying the attached patch to the repository.

	Greetings,
	Sascha

2008-09-03  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	oeventsd: remove circular reference to fix importing

2008-09-02  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	oeventsd: add 'blink' action to LedAction, adjust rules file

2008-09-01  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	enable global log_level in [frameworkd] section

	ogsmd: fix wrong dbus namespace for IncomingUssd signal. Thanks quickdev!

2008-09-01  Guillaume Chereau  <charlie@nikopol.(none)>

	[oeventsd] Use metaclass to create rules function from Action and Trigger class Every Action or Trigger class that has a 'function_name' attribute will automatically be accessible from the rule file using that function name. So that we don't need to create the function in parser.py.

2008-08-28  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	remove LOG compatibility support. We are now fully converted to Python Logging. Closes FSO #26

	ophoned: remove remaining LOG statements. We are now LOG-free

	ousaged: convert to Python logging

	odeviced and ogsmd: remove remaining LOG statements. Using python logging now

	ogsmd: pdp: convert to python logging

	examples: fix gsm-log-data

	odeviced: audio: simplify GStreamer pipeline creation

	ogsmd: add valid emergency numbers

	document additional configuration keys

	odeviced: kernel26: fix power supply class logic, if not present Yay, this now works even if battery is hot-swapped -- even if you change from a TH (which has no power supply support yet) to a CC (which has).

2008-08-27  Jan Luebbe  <jluebbe@debian.org>

	ousaged: add more information to the ResourceChanged signal

2008-08-27  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	oeventsd: add triggers and rules for power management (NOTE: after MS3 we need to separate the device specific stuff from the generic stuff here!)

	odeviced: use kobject uevent netlink socket to implement polling-free power status notifications

	use introspection to implement org.freesmartphone.framework.ListObjectsByInterface(). Closes FSO #2 NOTE: need to cleanup all references to saving the interface in the controller

	add Charlie's fantastic tasklet module to patterns

2008-08-24  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	oevents: Push/Pull Scenario idea didn't work out, we need to save state between rule invocations for that. Went back to fixed SetScenario (same as we did in oeventd for ms2) for now until we can discuss more.

	ogsmd: increase robustness. closes #23

2008-08-23  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	oevents: bring back AudioScenarioAction (first try) FIXME: leads to a audio scenario stack underflow if a call never reaches 'active'

	odeviced: fix import breakage introduced by me

2008-08-22  Guillaume Chereau  <charlie@nikopol.(none)>

	[oeventsd] Added trigger for time change events * Added the Time(hour, minute) trigger in the rule file * Added the Debug(msg) action

	[otimed] Creation of the subsystem

2008-08-21  Guillaume Chereau  <charlie@nikopol.(none)>

	[Conf file] corrected a typo

	Merge branch 'master' of ssh://git@git.freesmartphone.org/framework

	[oeventsd] Some typo in the parser functions (thanks to Julien Cassignol)

2008-08-20  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	odeviced: audio: load default scenario on startup. closes FSO ticket #83

	odeviced: org.freesmartphone.Audio: add PushScenario( scenario ) and PullScenario() -> previous

	oeventsd|opreferencesd: add versions, notify on init Please increment versions as per style guide

	* stylize accessor method (we don't use 'get' as prefix) for controller and return None if not found * increase ringtone event robustness (if preferences object not found)

	ogsmd: change channel representation in debug messages

2008-08-19  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	compute install prefix

2008-08-19  Daniel Willmann  <daniel@totalueberwachung.de>

	odeviced: fix import statement again :-) thanks Ainulindale

	Add missing config files to setup.py so they get installed. Thanks, Ainulindale!

	ogpsd: Apply warmstart.patch (thanks quickdev!) This allows us to save almanac, ephemeris, etc. before powering off the gps chip and load the data back afterwards, thus greatly reducing time to first fix.

2008-08-19  Rod Whitby  <rod@whitby.id.au>

	framework/ogpsd: Improve nmea parser to support GTA01 gllin output
	A significantly modified nmea parser tested against the output of
	gllin on the GTA01, and functional enough to provide sufficient
	signals for TangoGPS to do sensible things.

2008-08-18  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Introduce a new class PDUAddress that represents the GSM address (number) fields and use it.

	ogsmd: Add regex and consts for using SMS PDU mode

	ogsmd: Fix an off-by-one bug with GSM address field parsing

	ogsmd: Add two more test PDUs from OM bug 1728

	ogsmd: Move PDU conversion functions to convert.py Return a datetime object when parsing the time Rename functions for consistency

	ogsmd: Add padding value to correctly decode alphanumeric addresses.

	ogsmd: Redo the phonenumber function

	ogsmd: Add constants describing PDU fields

	ogsmd: Start work on SMS PDU mode

2008-08-18  Guillaume Chereau  <charlie@nikopol.(none)>

	Added a 'get_object' class method to Controller So that the subsystems can retrieve any registered DBus object without making a DBUs call.

	[oeventsd] Can connect to a DBus object signal before it has been created So that we don't need to call the Init method. Thanks to Mickey for the advice.

2008-08-17  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	fix Jan's email address

	license whitespace changes

	odeviced: simplify idlenotifier state machine and fix '0' specifying that a state will never be reached (except programmatically)

2008-08-14  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd: Some minor (cosmetic) modifications to File- and UDPChannel

2008-08-14  Alon  <alonlevy1 in g mail>

	ogpsd: Apply gpschannel_add_udpchannel_ane_filechannel.patch This is a good step forward in the quest to support GTA01 (gllin)

2008-08-14  Guillaume Chereau  <charlie@nikopol.(none)>

	[oeventsd] Forgot to add a file in previous commit

	[oeventsd] Added RingTone action that takes the preferences into account It only considers the ring-tone (not the ring-volume yet) I had to rely on a smal hack to retrieve opreferences service without using DBus I hope Mickey will add some sort of 'get_object' method so that we can retrieve any registered object without using DBus

2008-08-12  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: s/NewMessage/IncomingMessage/

2008-08-11  Guillaume Chereau  <charlie@nikopol.(none)>

	Added opreferencesd phone configuration files into setup.py

	[opreferncesd] Added phone configurations

2008-08-10  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: fix stupid bug in ReleaseAll(). fixes ticket #76

	ogsmd: add org.freesmartphone.GSM.PDP.GetContextStatus() -> s

2008-08-09  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	odeviced: fix empty 'ignoreinput' in configuration for input and idlenotifier. Patch by pjz. Closes ticket #77 -- thanks!

	ogsmd: implement basic USSD support

2008-08-09  Joachim Breitner  <mail@joachim-breitner.de>

	ogsmd: Convert ntype to int in SimRetrieveEntry like in SimRetrievePhonebook

	Accept number type 185
	I had a number type of 185 when traveling to Argentinia, and receiving
	a SMS from the operator, telling me „SMS reception is for free“. The
	sending number was 78273.

2008-08-08  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	oeventsd: use public config module and use getValue submitting a default value.

	ogsmd: add result code for org.freesmartphone.GSM.SIM.SendStoredMessage() thus making it fso-compliant. Thanks #openmoko-cdevel for spotting!

2008-08-08  Daniel Willmann  <daniel@totalueberwachung.de>

	frameworkd.conf: Follow oeventd -> oeventsd change in dbus config

2008-08-07  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Append the subscriber numbers as name, number tuple.

	ogsmd: Use right method _rightHandSide in SimGetSimInfo

2008-08-06  Daniel Willmann  <daniel@totalueberwachung.de>

	ousaged: Make the Bluetooth device actually (de-)activate bluetooth

2008-08-06  Guillaume Chereau  <charlie@nikopol.(none)>

	Added the new style oeventsd module This is quite a lot of changes, zhone should be updated to call the Events.Init method. I hope I didn't break too many things :)

	Emmit an error if no config file can be found.

2008-08-05  Guillaume Chereau  <charlie@nikopol.(none)>

	Removed README.opreferencesd

2008-08-05  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd: Fix org.freedesktop.Gypsy.Time

2008-08-04  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd: implement preliminary ACK handling for CFG messages

	ogpsd: Log non-UBX data with priority info instead of debug We disable NMEA sentences now.

	ogpsd: Use Gypsy TimeChanged signal

2008-08-04  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: add FIXME in parser.py

2008-08-04  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Use self.curline instead of curline. Patch by torindel@gmail.com, thanks. This fixes #62

2008-08-04  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: fix parsing outgoing SMS with empty phone numbers (stored on SIM). Patch by wiedi@frubar.net, thanks! Closes ticket #67

	ogsmd: [TI CALYPSO]: fix relaunching in lowlevel init

2008-08-03  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Make the low level parser quote aware (torindel@gmail.com) This addresses bug #62

	ogsmd: Bump timeout to 7 seconds when sending PIN It seems like some SIMs are quite slow to acknowledge the PIN so some time out with the default value of 5 seconds.

2008-08-03  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	* check configuration file format version * allow both disabling a whole subsystem as well as just one module (per config)

	odeviced: Unify configuration nodes to use the same name we are using for logging, i.e. [subsystem.module]. NOTE: Needs to be done for other subsystems that use individual modules as well

2008-08-03  Daniel Willmann  <daniel@totalueberwachung.de>

	Revert "WIP"
	This reverts commit 566f11c487b6ae43edfdb3edc60a92d5bfb17f7e.
	Guess why :-)

	WIP

2008-08-03  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: emit 'mode' property for GetStatus() as well as the Status() signal.

2008-08-02  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [FREESCALE NEPTUNE]: use modem data storage to keep track of roaming status

	ogsmd: add generic mode-wide data storage pool in modem. This will be used for inter-channel communication

	ogsmd: improve robustness for GetInfo Note: should use individual commands for maximum effect

	ogsmd: [FREESCALE NEPTUNE]: fix GetStatus()

2008-08-01  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Introduce safesplit and start using it safesplit is like split, but doesn't split anything in between quotation signs

2008-08-01  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	add dbus method to configure logging destination at runtime

	remove private controller API that wasn't to be used

	add dbus calls to configure debug logger levels at runtime

2008-08-01  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd: Use NEEDS_BUSNAMES to claim org.freedesktop.Gypsy

	subsystem.py: Register extra busnames if requested by the subsystem This looks for NEEDS_BUSNAMES in every file that also has a factory method and tries to claim the busnames listed in there.

	controller.py: Be honest about the busname that we failed to claim

	ogpsd: Correct UBX packet definition and improve parsing code Use repr() when logging raw data (emdete)

2008-08-01  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	refactor controller. create subsystem object. Warning: Further refactoring ahead. Might be unstable for a couple of days.

2008-07-31  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	one layer down

	install /etc files into proper location

2008-07-31  Daniel Willmann  <daniel@totalueberwachung.de>

	Revert "Use absolute path for the config files in setup.py"
	This reverts commit 253906f561fa8d8dbb24a492bbe18abb4f9d6387 which
	breaks OE installation as we need to install into relative paths.

2008-07-31  John Lee  <john_lee@openmoko.com>

	odeviced: accelerometer: make it read from input dev on demand so it doesn't impact the system performance.
	* no idle function added
	* stop sending signal
	* only read when method called

	now I need to make it work with gesture.

2008-07-31  Guillaume Chereau  <charlie@nikopol.(none)>

	Use absolute path for the config files in setup.py
	Should fix ticket #57

	[opreferencesd] Removed opreferencesd/test directory We have a test directory in the root directory now

2008-07-30  Guillaume Chereau  <charlie@nikopol.(none)>

	Merge branch 'master' of ssh://git@git.freesmartphone.org/framework

	Added test for opreferencesd

2008-07-29  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [TI CALYPSO]: silence home zone cell broadcasts while in suspend This should (hopefully) be the last reason for spurious wakeups...

2008-07-29  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd: Disable NMEA sentences when starting and enable them again on shutdown

2008-07-29  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [TI CALYPSO]: fix sending global SIM readyness status. The gory details:         PHB is phonebook, SMS is messagebook. RDY is supposed to be sent, after         PHB and SMS both being 1, however it's not sent on all devices.         EONS is completely undocumented.
	        Due to RDY being unreliable, we wait for PHB and SMS sending availability
	        and then synthesize a global SimReady signal.

	odeviced: accelerometer: bring back MockAccelerometer and use logging

2008-07-29  Daniel Willmann  <daniel@totalueberwachung.de>

	ogsmd: Fix SimRetrievePhonebook logic SimRetrievePhonebook now fails if SimGetPhonebookInfo returns an error. Previoulsy it would just sit there forever and eventually dbus would time the request out.

	ogsmd: Fix a bug where there's a HUP on one of the channels ogsmd will try to time.sleep and fail since time is not imported

	ogpsd: Don't split names that contain a comma in RetrievePhonebook and RetrieveEntry This resulted in a nasty segfault, preventing the phone functionality to work properly. Fixes #53

2008-07-28  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	odeviced: first sketch at audio scenario API

2008-07-28  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd: Implement the gypsy control interface. Navit now works with the gypsy source

2008-07-28  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [TI CALYPSO]: don't mix + and % commands in one command. should fix the bogus-resume-without-reason bug

2008-07-27  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd: Make use of the python logging module

	ogpsd: Some cosmetic changes, don't import unused modules

	Allow ogpsd to claim the bus name org.freedesktop.Gypsy

2008-07-27  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [TI CALYPSO] s/log.info/log.debug/ for channel init

2008-07-26  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	odeviced: fix module being found if installed

2008-07-25  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: read minimum/maximum phonebook indices before accessing

2008-07-25  John Lee  <john_lee@openmoko.com>

	[odeviced] Added accelerometer support for om-gta02.
	path /org/freesmartphone/Device/Accelerometer
	interface org.freesmartphone.Device.Accelerometer
	signal 'Event' says x, y, z.  100/400 Hz, so be careful.
	method 'Value' retrieves x, y, z
	method 'SetSampleRate' sets the sample rate of the accelerometer
	method 'GetSampleRate' gets the sample rate of the accelerometer

2008-07-25  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	odeviced: cleanup some plugins and bump version number

	odeviced: SetState now works for all states, no special case handling necessary. Note though that applications may depend on state transitions, so be careful with setting non-neighbour states.

	odeviced: use child loggers

	odeviced: convert input plugin to use the generic asyncworker

	odeviced: the audio module now uses the generic asyncworker

2008-07-24  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	start python/dbus/glib pattern library which will become standalone later on. first element: AsyncWorker which will be used in odeviced/Input and odeviced/Audio plugins.

	fix a bunch of logger calls

	mention logging conversion in ChangeLog

	ogsmd: numberToPhonebookTuple() now handles unicode strings as well

	ogsmd: fix dumb typo

	ogsmd: decode text to string before handing it to the modem

	ogsmd: add unicodeToString()

	ogsmd: reenable some of the supressed debug log output and fix repr() issues

	ogsmd: [TI CALYPSO]: yank unsolicited messages from non-unsolicited channels

2008-07-24  Jan Luebbe  <jluebbe@debian.org>

	ogsmd: [SIERRA] fix the channel to use the correct parent class

2008-07-24  Guillaume Chereau  <charlie@nikopol.(none)>

	Use of python logging module

2008-07-23  Guillaume Chereau  <charlie@nikopol.(none)>

	Added Activate method to Phone.Call

	Added an 'Incoming' signal

2008-07-22  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: more tweaks to home zone support

	ogsmd: [SIERRA] catch up with new style for init sequences

	ogsmd: finished O2/Genion (who else?) home zone support: * [METHOD] org.freesmartphone.GSM.HZ.GetHomeZoneStatus() -> s:name * [SIGNAL] org.freesmartphone.GSM.HZ.HomeZoneStatus( s:name )

2008-07-22  Jan Luebbe  <jluebbe@debian.org>

	ogsmd: add some message book examples from the sierra wireless modem and allow number type 208

	ogsmd: [SIERRA] add support for the Sierra Wireless UMTS modem

2008-07-22  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [TI CALYPSO]: restore init commands for unsolicited channel (fixes a cut'n'paste error)

2008-07-21  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: implement org.freesmartphone.GSM.SIM.SendStoredMessage(i:index) -> ()

	ogsmd: make sure SimReady() and AuthStatus() signals are sent whenever the status can change. NB: Fix channel initialization from copy'n'paste error.

	ogsmd: even more robustness

	ogsmd: make GetHomeZones() a bit more robust against empty answers from SIM

	ogsmd: send auth code signal also after delivering a PUK

	ogsmd: some more ISUP release causes

	ogsmd: [FREESCALE NEPTUNE]: Neptune does not implement CREG.

	ogsmd: implement org.freesmartphone.GSM.SIM.GetAuthCodeRequired() -> b and org.freesmartphone.GSM.SIM.SetAuthCodeRequired( b:enable, s:pin ) -> ()

2008-07-21  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd: Try to claim original Gypsy busname org.freedesktop.Gypsy With this ogpsd works with the standard gypsy libraries.

	ogpsd: Implemented most of the Gypsy interface

2008-07-20  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: add abstract modem channel implementic some basic stuff helpful for derived channels

	ogsmd: add org.freesmartphone.GSM.SIM.{Messagebook|Phonebook}Ready signals and associate Get methods.

	ogsmd: add ucs2_hex_to_string converter

2008-07-19  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	add some new things to TODO and ti_calypso specific modem information

	odeviced: implemented org/freesmartphone/Device/Audio serving interface org.freesmartphone.Device.Audio: * PlaySound( s ) * StopSound( s ) * StopAllSounds()

2008-07-18  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd: Disable sending of time messages and only request them on demand

	ogpsd: Implement Gypsy DBUS Signals and Methods Accuracy, Position There's also org.freesmartphone.GPS.{GetTime,TimeChanged} as Gypsy doesn't seem to provide any appropriate interface

2008-07-18  Jan Luebbe  <jluebbe@debian.org>

	ousaged: control ogpsd via ousaged

	ogpsd: rename interface to org.freesmartphone.GPS

	ogpsd: GTA02Device uses UBX, configure after poweron

2008-07-18  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd: Enable important NAV messages

	ogpsd: Implement message handling

2008-07-18  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	odeviced: add first sketch of audio object complying to org.freesmartphone.Device.Audio

2008-07-18  Jan Luebbe  <jluebbe@debian.org>

	ogsmd: fix two typos in SimDeleteEntry

2008-07-17  Daniel Willmann  <daniel@totalueberwachung.de>

	opgsd: Support sending of variable length messages

2008-07-17  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [TI CALYPSO]: set sidetone to minimum

	odeviced: (input) read button/switches configuration from file, no longer hardcoding buttons for the specific device

2008-07-17  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd: Implement parsing of variable length messages

2008-07-17  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	odeviced: allow specifying whether holding an input entity needs to be reported

	ogsmd: [TI CALYPSO]: reorder init messages, need to add callbacks for when auth status changed successfully and registration status changed

	enhance config parser and fail with a clear error message if we can't claim one of the bus names

2008-07-17  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd: Implement more UBX messages

2008-07-17  Guillaume Chereau  <charlie@nikopol.(none)>

	Minor changes

	More tests

	ophoned works better now

2008-07-16  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: use +COPS with two parameters, works on more platforms

	ogsmd: rename openezx modem to freescale_neptune

	ogsmd: [OPENEZX] more call handling tweaks

	ogsmd: [OPENEZX] use ThrowStuffAwayParser for MiscChannel until we find out how to supress unsolicited responses within request/response processes

	ogsmd: implement ThrowStuffAwayParser that just does that :D

	ogsmd: allow channels to install their own parser

	ogsmd: [OPENEZX] add basic call handling

	ogsmd: allow unsolicited message to also begin with * 'R'(ING), * 'C'(ONNECT), and * 'N'(O CARRIER) in ogsmd.gsm.DelegateChannel.

2008-07-16  Jan Luebbe  <jluebbe@debian.org>

	ogsmd: fix number type parsing

2008-07-16  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: start with ezx samples

	add directory for implementation docs

	ogsmd: add 'name' parameter as result in org.freesmartphone.GSM.SIM.GetHomeZones() -> a(siii)

2008-07-16  Guillaume Chereau  <charlie@nikopol.(none)>

	Merge branch 'master' of ssh://git@git.freesmartphone.org/framework

	Moved test.py into test directory

2008-07-16  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: add (C) indicating the original source of the channel initialisation and overall concept

2008-07-15  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: CallCancelTest now works

	use option parser for tests

	ogsmd: fix some bugs found by adding more testing code: * CallListCalls needs to derive from MiscMediator * [TI CALYPSO] ReleaseAll was not implemented

	ogsmd: Improve stability of GetStatus()

	tests: add test for ogsmd. NOTE: should later be enhance to feature different other subsystems as well etc.

2008-07-15  Guillaume Chereau  <charlie@nikopol.(none)>

	More tests

	Merge branch 'master' of ssh://git@git.freesmartphone.org/framework

	Some minor changes

2008-07-15  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: update ChangeLog

	ogsmd: make the new parser more forgiving wrt. spec violations

	ogsmd: [TI CALYPSO]: enable cell broadcasts for home zone

	ogsmd: add org.freesmartphone.GSM.SIM.GetHomeZones() -> a(iii), retrieves home zone coordinates in Gauss-Krueger format

2008-07-15  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd: Configure GPS to output NAV-POSLLH, NAV-POSUTM and NAV-TIMEUTC Changed message identificaion to class-id pairs because the numbers used for IDs are not unique.

2008-07-14  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	dbus configuration: fix framework object path. patch by Sudarshan S, thanks.

	ogsmd: increase +CFUN timeout a bit

	ogsmd: more tweaks to the new parser, still disabled by default though

	ogsmd: add first bits of PDU handling, i.e. packed 7 bit decoding (necessary for CB PDU mode)

	ogsmd: implement the first bits of incoming cell broadcasts: org.freesmartphone.GSM.PDP.CB.IncomingMessage( channel, data ) Warning: This only works with the new experimental parser which you need to explicitly enable atm. (in parser.py)

2008-07-14  Guillaume Chereau  <charlie@nikopol.(none)>

	Added global test script

2008-07-14  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd: Add more message formats, allow sending of messages

2008-07-13  Jan Luebbe  <jluebbe@debian.org>

	ogsmd: fix SimpleLowlevelAtParser to wrap a unsolicited response line in a list
	This makes it compatible to StateBasedLowlevelAtParser

2008-07-13  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd: Add all the remaining UBX IDs

2008-07-13  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: org.freesmartphone.GSM.SIM.RetrieveMessagebook: validate parameters

	ogsmd: ok, so my basic low-level parser is out of its depth now that we want to deal with multiline unsolicited responses (+CBM and friends)... So, here's an experimental state-based parser for lowlevel AT parsing. Disable by default until I have more time to test. Until then, +CBM will not be completed.

	ogsmd: [TI CALYPSO]: revert last change with was completely bogus

	ogsmd: [TI CALYPSO]: fix suspend/resume commands for channel

2008-07-12  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	update ChangeLog

	ogsmd: implement org.freesmartphone.GSM.SIM.Send{Generic|Restricted}SimCommand(...)

	ogsmd: repair damage done by previous commit

	ogsmd: refactor unsolicited response delegation capability into dedicated channel class in gsm core.

	ogsmd: * rename Test API to Debug API and enhance it (List virtual channels + Inject arbitrary strings into a virtual channel) * implement org.freesmartphone.GSM.CB.{Get|Set}CellBroadcastSubscriptions

2008-07-11  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: implement org.freesmartphone.GSM.SIM.GetInfo() -> a{sv}.

	ogsmd: [MOTOROLA EZX] add more docs

	ogsmd: [OPENEZX] add unsolicited channel for /dev/mux0 and parse +CIEV as well as the proprietary +EOPER

2008-07-11  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd: Add a GTA02Device which works on GTA02. SetPower method will set the power via odeviced.

	ogpsd: Use frameworkd.conf for GPS device configuration

2008-07-10  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd: Port UBX parsing code from ruby over to python. Support for AID-ALM and AID-EPH packets and generic UBX parsing is done.

2008-07-10  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: [TI CALYPSO] add support for org.freesmartphone.GSM.HoldActive(), i.e. holding a call without activating any waiting or other held call. See fso ticket #15

	odeviced: fix LOG_ERROR typo in input.py. Patch by Tim Niemeyer.

	ogsmd: add transferring a call (call deflection service) via org.freesmartphone.GSM.Call.Transfer(s:number) -> () NOTE: does not work at all on TI Calypso, possibly/hopefully other modems ;)

	add ogpsd section to framework dbus configuration

	ogsmd: implement org.freesmartphone.GSM.Call.SendDtmf(tones) -> ()

	ogsmd: [TI CALYPSO] fix lowlevel channel init if modem is not responding

	ogsmd: implement org.freesmartphone.GSM.ListCalls

2008-07-09  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	tools: restore cli-framework to not showing signals. We will have to rewrite the interactive console to make it safe.

	tools: spice up the interactive console

	clean up

	update ChangeLog

	ogsmd: SIM.GetMessagebookInfo: don't try to parse a result if we got an error [OPENEZX] remove low level init and add custom mediator for SIM.SendAuthCode

	ogsmd: refactor ogsmd.gsm.channel and fully document

2008-07-09  Guillaume Chereau  <charlie@nikopol.(none)>

	Open log before importing controller

2008-07-08  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: add skeleton for Motorola EZX modem support, see http://www.openezx.org

	ogsmd: refactor MUXing knowledge out of gsm.VirtualChannel into the specific modems as factory function 'pathfactory'.

	ogsmd: implement org.freesmartphone.GSM.Network.{Set|Get}CallingIdentification

	ogsmd: implement remaining bits of org.freesmartphone.GSM.PDP: * ListAvailableGprsClasses() -> as * GetCurrentGprsClass() -> s * SetCurrentGprsClass(s)

2008-07-06  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ophoned: [TI CALYPSO] use more detailed GPRS event reporting

2008-07-04  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd: Recover from errors in nmea parser

	ogpsd: Initial support for parsing UBX packets

	ogpsd: Fix parsing of NMEA sentences. We now send out PositionChanged and AccuracyChanged signals. Warning, the parser still makes some weird assumptions like we always have a fix...

2008-07-03  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: implement org.freesmartphone.GSM.Network.EnableCallForwarding( reason, class, number, timeout ) -> ()

	ogsmd: implement org.freesmartphone.GSM.Network.DisableCallForwarding( reason, class ) -> () opreferencesd: fix typo

2008-07-03  Daniel Willmann  <daniel@totalueberwachung.de>

	ogpsd: Commit first version. Not quite working yet

2008-07-03  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ogsmd: implement org.freesmartphone.Network.GetCallForwarding()

	tools: fix more bus names in cli-framework

	tools: catch up with renamed subsystem

2008-07-03  Guillaume Chereau  <charlie@nikopol.(none)>

	Created ophoned service

	Added new ophoned service

2008-07-03  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	add introspection parser (taken from D-Feet) in preparation of FSO ticket #2

2008-07-02  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	move cli-framework into tools directory

	explain how to configure the IdleNotifier

	ophoned: rename subsystem into ogsmd. See ChangeLog for reasoning.

2008-07-01  Jan Luebbe  <jluebbe@debian.org>

	odeviced: also change PowerSupplyApm to export GetEnergyPercentage instead of GetChargingPercentage

	oeventd: convert the ledAction to a VibratorReceiver

2008-06-30  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ophoned: fix misc. errors due to testing by someone else than the author ;) Thanks Charlie! * add dbus error org.freesmartphone.GSM.SIM.InvalidIndex * Invalid Parameters in StoreMessage now recognized * teach parser to deal with '+EXT ERROR' specs * fix bogus AT command and typo in SimGetPhonebookInfo

	install examples into proper directory on target

2008-06-30  Jan Luebbe  <jluebbe@debian.org>

	Fix copy&pase error in documentation

2008-06-30  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	examples/gsm-log-data.py: add automatic call answering to example

	examples/gsm-log-data.py: make it work if your SIM card is not PIN protected

	add first usage example

	ophoned: don't send raw signal quality, convert it to percent

2008-06-30  Guillaume Chereau  <charlie@nikopol.(none)>

	Added profiles conf file

	Configuration files synchronised after setting attribute

	Some bugs fixed

2008-06-29  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ophoned: implement org.freesmartphone.GSM.Network.GetSignalStrength

	ophoned: enable proprietary unsolicited signal strength code on TI Calypso and send org.freesmartphone.GSM.Network.SignalStrength accordingly

	ophoned: change signature of org.freesmartphone.GSM.Network.[Get]Status to conform to OTAPI

2008-06-28  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ophoned: org.freesmartphone.GSM.PDP.[Dea|A]ctivateContext() now works, honoring APN only for now.

	ophoned: establish ppp context with modem specific ppp options, correctly catch subprocess exit

2008-06-27  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	rename console to cli-framework and adjust setup.py

	ophoned: add preliminary handling of org.freesmartphone.PDP.{ActivateContext|DeactivateContext}

	ophoned: refactor abstract call handling and pdp handling into own modem-specific module

	document bus name changes in ChangeLog and adjust oeventd to match it

	rename framework to console

2008-06-26  Jan Luebbe  <jluebbe@debian.org>

	ophoned: remove duplicated class NetworkRegisterWithProvider

	ophoned: running the lowlevel init stub is always successful

	framework: rename the command line interface to work around import errors

	framework: add a generic interactive console

	controller: use a specific dbus interface to work with our current dbus security policy

2008-06-26  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	framework: remove last bits of TI Calypso specific channel handling out VirtualChannel and put it into CalypsoModemChannel. VirtualChannel is now completely generic (*phew*)

2008-06-26  Jan Luebbe  <jluebbe@debian.org>

	ophoned: add support for remote hold notification

2008-06-26  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	ophoned: prepare for adding the new dbus API: org.freesmartphone.PDP.*

2008-06-25  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	odeviced: fix bug in info module

2008-06-25  Guillaume Chereau  <charlie@nikopol.(none)>

	Merged preferences service into framework

2008-06-24  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	odeviced: add info object

	controller: move quering objects out of odeviced and unconditionally into the framework

2008-06-23  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	README++

	add ChangeLog for user-visible changes

	odeviced/main: API change: List -> ListObjectsByInterface

	odeviced/kernel26: change GetChargingPercentage to GetEnergyPercentage. Patch by Sudharshan S, thanks!

	controller: allow choosing which subsystems to launch via command line

	odeviced/main: add GetCpuInfo method, add wildcard support to List

	kernel26: cosmetics

	controller: show registered object paths sorted and with the interface they implement

2008-06-22  Jan Luebbe  <jluebbe@debian.org>

	Use the config file to select the modemtype

	Allow overriding config options form the commandline

2008-06-22  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	register one busname for every subsystem, fail gracefully, if one module raises an exception during factory()

	allow uninstalled startup

2008-06-22  Jan Luebbe  <jluebbe@debian.org>

	Use timeout_add_seconds from gobject

2008-06-22  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	remove more path hacks

	remove some more sys.path hacks

2008-06-22  Michael 'Mickey' Lauer  <mickey@opal.(none)>

	fix compiling the wireless python extension module

2008-06-21  Daniel Willmann  <daniel@totalueberwachung.de>

	python-ophoned: Fix SimUnlock method invocation

2008-06-21  Michael 'Mickey' Lauer  <mickey@opal.(none)>

	fix bus names and object paths for ophoned

	ophoned can be imported now, need to adjust busnames, object paths, and interfaces

2008-06-21  Jan Luebbe  <jluebbe@debian.org>

	Get rid of the modules subdirectories

	Integrate some of old-opreferencesd

	Integrate some of old-ophoned

2008-06-21  Michael 'Mickey' Lauer  <mickey@opal.(none)>

	log registered objects at end of startup

	simplify logic to find subsystem directory

2008-06-21  Jan Luebbe  <jluebbe@debian.org>

	Integrate some of old-ousaged

	Use __import__ correctly

2008-06-21  Michael 'Mickey' Lauer  <mickey@opal.(none)>

	stop sys.path pollution

2008-06-21  Jan Luebbe  <jluebbe@debian.org>

	Integrate some of old-oeventd

	Don't use the environment for the current directory

2008-06-21  Michael 'Mickey' Lauer  <mickey@opal.(none)>

	fix setup to autoinclude all paths

2008-06-21  Jan Luebbe  <jluebbe@debian.org>

	Fix my email address

2008-06-21  Michael 'Mickey' Lauer  <mickey@opal.(none)>

	change controller logic to detect subsystems and their modules

	continue reorg

	first batch of repository reorganization after merging individual device daemons into frameworkd

2008-06-20  Jan Luebbe  <jluebbe@debian.org>

	Merge branch 'ousaged'

	Merge branch 'opreferencesd'

	Merge branch 'ophoned'

	Merge branch 'oeventd'

	Merge branch 'odeviced'

	Move everything to old-ousaged

	Move everything to old-opreferencesd

	Move everything to old-ophoned

	Move everything to old-oeventd

	Move everything to old-odeviced

	Initial commit

2008-06-19  Michael 'Mickey' Lauer  <mickey@vanille-media.de>

	python-ophoned: fix time between IDLE_PRELOCK and LOCK

2008-06-17  Michael 'Mickey' Lauer  <mickey@localhost.(none)>

	Merge branch 'master' of git@git.freesmartphone.org:python-odeviced

	python-odeviced: increase default timeouts for idlenotifier

2008-06-17  Guillaume Chereau  <charlie@nikopol.(none)>

	Added a function to generate the DBUS API from the sources

	Added support for dictionary parameters

2008-06-17  Michael 'Mickey' Lauer  <mickey@localhost.(none)>

	python-oeventd: revamp gstreamer control to work around increasing amount of latency

2008-06-16  Jan Luebbe  <jluebbe@debian.org>

	python-odeviced: Allow the idlenotifier to be reset via dbus

2008-06-16  Guillaume Chereau  <charlie@nikopol.(none)>

	Added TODO file

	Created a small test application using gtk

2008-06-16  Michael 'Mickey' Lauer  <mickey@localhost.(none)>

	python-ophoned: add suspend/resume to ti_calypso specific modem abstraction

2008-06-15  Michael 'Mickey' Lauer  <mickey@localhost.(none)>

	python-ophoned: add basic infrastructure for suspending and resuming the phone server, this includes individually suspending/resuming every Channel instance, hence it is highly modem device specific (think unsolicited responses)

2008-06-14  Michael 'Mickey' Lauer  <mickey@localhost.(none)>

	python-odeviced: hardcode AUX and POWER button for Milestone 1. Read from configuration afterwards

	Merge branch 'master' of git@git.freesmartphone.org:python-odeviced

	python-odeviced: add first version if input module This module gives dbus signals for certain key presses. Use this for tracking things like headphone insertion, charger insertion, AUX key held for n seconds, ...

2008-06-12  Daniel Willmann  <daniel@totalueberwachung.de>

	odeviced: Removed spurious /tmp in apm path, add support for sysfs power_supply capacity node

	Merge branch 'master' of ssh://git@git.freesmartphone.org/python-ophoned

	python-ophoned: Reorder org.freesmartphone.GSM.Network.Status parameters to reflect correct usage

2008-06-12  Michael 'Mickey' Lauer  <mickey@opal.(none)>

	python-oeventd: use different hardcoded ringtone for upcoming milestone 1 release

	python-oeventd: construct pipeline manually instead of using playbin

2008-06-12  Jan Luebbe  <jluebbe@debian.org>

	python-ophoned: fix parameter names for ti_calypso

2008-06-12  Guillaume Chereau  <charlie@nikopol.(none)>

	Initial import

2008-06-11  Jan Luebbe  <jluebbe@debian.org>

	python-ophoned: use the correct module when installed

	python-ophoned: ship the modem abstractions

2008-06-11  Michael 'Mickey' Lauer  <mickey@localhost.(none)>

	python-ophoned: add todo

2008-06-10  Michael 'Mickey' Lauer  <mickey@localhost.(none)>

	python-ophoned: fix numbering in state machine, make ti_calypso the default (for now)

	python-ophoned: revamp call handling to use a full fledged state machine Q: Do we get a dedicated %CPI for hold events or do we need to rely solely on CCWA/CCLD?

2008-06-07  Jan Luebbe  <jluebbe@debian.org>

	Fix signal setup if ophoned is not yet ready

2008-06-06  Michael 'Mickey' Lauer  <mickey@localhost.(none)>

	python-ophoned: fix setup

	python-ophoned: implement basic multiparty handling (no conference yet). needs mucho testing!

2008-06-05  Michael 'Mickey' Lauer  <mickey@localhost.(none)>

	python-ophoned: implement TI Calypso specific call handling

2008-06-04  Michael 'Mickey' Lauer  <mickey@localhost.(none)>

	python-ophoned: add skeleton for TI Calypso modem

	python-ophoned: add skeleton for 'singleline' modem abstraction

	python-ophoned: refactor code and prepare for different modem types, including, but overriding the standard behaviour

2008-06-03  Jan Luebbe  <jluebbe@debian.org>

	Simple support for ringing

	Handle audio scenarios and vibrator

2008-06-03  Michael 'Mickey' Lauer  <mickey@localhost.(none)>

	python-ophoned: strip " from CLIP to peer in CallStatus signal

2008-06-03  Jan Luebbe  <jluebbe@debian.org>

	Fix some leftovers from odeviced

	Fix some leftovers from odeviced

2008-06-01  Michael 'Mickey' Lauer  <mickey@opal.(none)>

	python-ophoned: indicate incoming SMS

2008-05-30  Michael 'Mickey' Lauer  <mickey@opal.(none)>

	ophoned: refactor yield support into own mixin class AbstractYieldSupport

2008-05-28  Michael 'Mickey' Lauer  <mickey@opal.(none)>

	python-ophoned: cancelling a command now works, cancelling outgoing calls work, add yield-magic stub for flow-control stuff

2008-05-27  Michael 'Mickey' Lauer  <mickey@opal.(none)>

	python-ophoned: add CLIP reporting, fix remote hangup timeout, add more InternalErrors instead of asserting/traceback on server side

2008-05-26  Jan Luebbe  <jluebbe@debian.org>

	Ship the modules

	Extend manager and receiver

	python-ophoned: Use the interface name from the specs

2008-05-23  Michael 'Mickey' Lauer  <mickey@localhost.(none)>

	python-ophoned: incoming calls OK, rejecting calls OK, hanging up OK. NOTE: ignoring index-parameter for now, not dealing with multiple calls.

2008-05-22  Michael 'Mickey' Lauer  <mickey@localhost.(none)>

	python-ophoned: remove first idea of Call abstraction, implement 2nd idea. outgoing calls looking good now.

2008-05-21  Michael 'Mickey' Lauer  <mickey@localhost.(none)>

	python-ophoned: add more error specifications, prepare for command cancelling

2008-05-20  Jan Luebbe  <jluebbe@debian.org>

	Create basic classes

2008-05-19  Jan Luebbe  <jluebbe@debian.org>

	Clean up leftovers from ousaged

2008-05-19  Michael 'Mickey' Lauer  <mickey@localhost.(none)>

	python-ophoned: startup fix

	python-ophoned: [TI CALYPOS] refactor wakeup logic into VirtualChannel base class (where it belongs).

	python-ophoned: [TI CALYPSO] no longer hammer the modem to keep it from falling asleep, but rather keep a global communication timestamp and send a wakeup-character if necessary.

2008-05-18  Michael 'Mickey' Lauer  <mickey@localhost.(none)>

	python-ophoned: implement missing methods in org.freesmartphone.GSM.SIM

	python-ophoned: start with implementing call handling - POC only for now

2008-05-17  Michael 'Mickey' Lauer  <mickey@localhost.(none)>

	python-ophoned: handle unsolicited message '+CREG', query modem for additional data, then send dbus signal

	python-ophoned: org.freesmartphone.GSM.Device.GetFeatures() implemented.

	python-ophoned: fix parser to handle continuation lines ('\r\n> ') necessary for storing and sending SMS org.freesmartphone.GSM.SIM.StoreMessage() now working.

	Merge branch 'master' of git@git.freesmartphone.org:python-ophoned

	python-ophoned: start with org.freesmartphone.SIM.StoreMessage. Not working yet, need to improve my parser to handle continuation lines :D

2008-05-16  Jan Luebbe  <jluebbe@debian.org>

	Adapt setup.py from odeviced

	Clean up sysfs filenames before using them as D-Bus paths

	Import the correct controller

	Install the modules directory

	Fix incorretly named script

	Correctly declare the encoding

2008-05-16  Michael 'Mickey' Lauer  <mickey@localhost.(none)>

	python-ophoned: org.freesmartphone.GSM.SIM.RetrieveMessagebook done.

	python-ophoned: org.freesmartphone.GSM.SIM.{Get,Set}ServiceCenterNumber() done.

	python-ophoned: add convenience-method for retrieving the whole SIM phonebook at once :D

	python-ophoned: add SPECIAL THANKS

	python-ophoned: more goodies * use seconds as timeout metric * start using regular expressions for parsing * add more of org.freesmartphone.GSM.Network

2008-05-15  Michael 'Mickey' Lauer  <mickey@localhost.(none)>

	python-ophoned: add test commands and fix decoding for phonebook entries != ASCII

2008-05-15  Jan Luebbe  <jluebbe@debian.org>

	Support ODeviceD as a backend

	Use the name instead of the sysfs file for powercontrol-neo

	Add D-Bus object to list available objects by interface

	Publish the objects under the uniqe sysfs name

	Give modules access to the controller object (for communication between modules)

2008-05-15  Michael 'Mickey' Lauer  <mickey@opal.(none)>

	python-ophoned: org.freesmartphone.SIM.RetrieveEntry and .StoreEntry done

	python-ophoned: org.freesmartphone.GSM.Network.GetStatus done, .ListProviders started

2008-05-14  Michael 'Mickey' Lauer  <mickey@opal.(none)>

	python-ophoned: QueuedVirtualChannel: allow per-request timeout override the channel timeout

	python-ophoned: org.freesmartphone.GSM.SIM.SendAuthCode and org.freesmartphone.GSM.SIM.AuthStatus implemented.

	python-ophoned: add TODO

	python-ophoned: org.freesmartphone.GSM.SIM.GetAuthStatus() done

2008-05-13  Michael 'Mickey' Lauer  <mickey@localhost.(none)>

	python-ophoned: remove modem.py

	python-ophoned: remove old gsm implementation

	python-ophoned: org.freesmartphone.GSM.Device.SetAntennaPower() done.

	python-ophoned: refactor keepalive channel, add delegate object for unsolicited messages, always allocate three virtuall channels from MUXer

	python-ophoned: After massive refactoring, org.freesmartphone.GSM.Device.GetInfo() works again *phew* ;)

2008-05-12  Michael 'Mickey' Lauer  <mickey@localhost.(none)>

	python-ophoned: mess around with wakeup, create KeepAliveChannel

2008-05-11  Michael 'Mickey' Lauer  <mickey@localhost.(none)>

	python-ophoned: add first mediator class that handles transferring AT responses to Dbus responses

2008-05-10  Michael 'Mickey' Lauer  <mickey@localhost.(none)>

	python-ophoned: hook new experimental gsm stuff into ophoned

2008-05-10  Jan Luebbe  <jluebbe@debian.org>

	Start oeventd by reusing ousaged

	Fix copy and paste problem

2008-05-10  Michael 'Mickey' Lauer  <mickey@localhost.(none)>

	python-ophoned: add an incredibly slow lowlevel AT command line parser

2008-05-09  Jan Luebbe  <jluebbe@debian.org>

	Refactor interface

	Add simple selftest

2008-05-08  Jan Luebbe  <jluebbe@debian.org>

	Add resource policy API (disabled, auto, enabled)

2008-05-07  Michael 'Mickey' Lauer  <mickey@localhost.(none)>

	python-ophoned: more fun with serial stuff. NOTE: nc/pty behave differently than the device :/

	python-ophoned: wrap head around pygsm and prototype something to learn more about pySerial

2008-05-06  Jan Luebbe  <jluebbe@debian.org>

	Import code

2008-05-06  Michael 'Mickey' Lauer  <mickey@localhost.(none)>

	add readme

	add README

	add readme

2008-05-05  Michael 'Mickey' Lauer  <mickey@localhost.(none)>

	python-ophoned: first combinated function GetInfo now works (minus error and timeout handling)

	python-ophoned/pygsm: add DumbParser to attention class

	python-ophoned/pygsm: remove bogus executable bits, add TODO file

	Revert "Revert "python-ophoned: merge with upstream""
	This reverts commit 25ed3a7a26250201c878b70a32d4f589122ac0a6.

	Revert "python-ophoned: merge with upstream"
	This reverts commit c9d948a1e05e71da6cdb5eb4a794979998364e9c.

	python-ophoned: merge with upstream

	python-ophoned: first call working in asynchronous way * add keepModemAlive to workaround OM bug #1380 * TODO: enhance pygsm to a) allow callbacks on timeout and b) get status back from activate() calls

2008-05-03  Michael 'Mickey' Lauer  <mickey@localhost.(none)>

	initial commit of python-ophoned as per freesmartphone.org SVN of rev 295

	initial commit of python-odeviced as per freesmartphone.org SVN of rev 295
